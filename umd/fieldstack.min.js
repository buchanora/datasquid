!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom"),require("react-redux")):"function"==typeof define&&define.amd?define(["exports","react","react-dom","react-redux"],t):t(e.FieldStack={},e.React,e["react-dom"],e["react-redux"])}(this,function(e,t,n,r){"use strict";var o="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(e,t){return e(t={exports:{}},t.exports),t.exports}function s(e){return function(){return e}}var u=function(){};u.thatReturns=s,u.thatReturnsFalse=s(!1),u.thatReturnsTrue=s(!0),u.thatReturnsNull=s(null),u.thatReturnsThis=function(){return this},u.thatReturnsArgument=function(e){return e};var c=u;var l=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var d=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))p.call(n,a)&&(o[a]=n[a]);if(f){r=f(n);for(var s=0;s<r.length;s++)h.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},g="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y=(a(function(e){e.exports=function(){function e(e,t,n,r,o,i){i!==g&&l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=c,n.PropTypes=n,n}()}),a(function(e,t){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:W(e)}function r(e){return s(e)?e:G(e)}function o(e){return u(e)?e:J(e)}function i(e){return a(e)&&!c(e)?e:X(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[p])}function u(e){return!(!e||!e[h])}function c(e){return s(e)||u(e)}function l(e){return!(!e||!e[d])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",g=5,y=1<<g,v=y-1,m={},_={value:!1},b={value:!1};function S(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function E(){}function k(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(x)),e.size}function O(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function x(){return!0}function T(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return K(e,t,0)}function M(e,t){return K(e,t,t)}function K(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var A=0,I=1,B=2,F="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=F||L;function R(e){this.next=e}function z(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function P(){return{value:void 0,done:!0}}function U(e){return!!V(e)}function j(e){return e&&"function"==typeof e.next}function q(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(F&&e[F]||e[L]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function W(e){return null===e||void 0===e?ie():a(e)?e.toSeq():function(e){var t=ue(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function G(e){return null===e||void 0===e?ie().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function J(e){return null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function X(e){return(null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}R.prototype.toString=function(){return"[Iterator]"},R.KEYS=A,R.VALUES=I,R.ENTRIES=B,R.prototype.inspect=R.prototype.toSource=function(){return this.toString()},R.prototype[N]=function(){return this},t(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(e,t){return ce(this,e,t,!0)},W.prototype.__iterator=function(e,t){return le(this,e,t,!0)},t(G,W),G.prototype.toKeyedSeq=function(){return this},t(J,W),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return ce(this,e,t,!1)},J.prototype.__iterator=function(e,t){return le(this,e,t,!1)},t(X,W),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},W.isSeq=oe,W.Keyed=G,W.Set=X,W.Indexed=J;var Y,$,Z,Q="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[Q])}function ie(){return Y||(Y=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():j(e)?new re(e).fromEntrySeq():U(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){return H(e)?new ee(e):j(e)?new re(e):U(e)?new ne(e):void 0}function ce(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function le(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new R(function(){var e=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:z(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function fe(e,t){return t?function e(t,n,r,o){return Array.isArray(n)?t.call(o,r,J(n).map(function(r,o){return e(t,r,o,n)})):he(n)?t.call(o,r,G(n).map(function(r,o){return e(t,r,o,n)})):n}(t,e,"",{"":e}):pe(e)}function pe(e){return Array.isArray(e)?J(e).map(pe).toList():he(e)?G(e).map(pe).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function de(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ge(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(l(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&de(o[1],e)&&(n||de(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,p=t.__iterate(function(t,r){if(n?!e.has(t):o?!de(t,e.get(r,m)):!de(e.get(r,m),t))return f=!1,!1});return f&&e.size===p}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if($)return $;$=this}}function ve(e,t){if(!e)throw new Error(t)}function me(e,t,n){if(!(this instanceof me))return new me(e,t,n);if(ve(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function _e(){throw TypeError("Abstract")}function be(){}function Se(){}function we(){}W.prototype[Q]=!0,t(ee,J),ee.prototype.get=function(e,t){return this.has(e)?this._array[O(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new R(function(){return o>r?{value:void 0,done:!0}:z(e,o,n[t?r-o++:o++])})},t(te,G),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new R(function(){var a=r[t?o-i:i];return i++>o?{value:void 0,done:!0}:z(e,a,n[a])})},te.prototype[d]=!0,t(ne,J),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=q(n),o=0;if(j(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,o++,this););return o},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=q(n);if(!j(r))return new R(P);var o=0;return new R(function(){var t=r.next();return t.done?t:z(e,o++,t.value)})},t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new R(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return z(e,o,r[o++])})},t(ye,J),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return de(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:new ye(this._value,M(t,n)-D(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return de(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new R(function(){return r<n.size?z(e,r++,n._value):{value:void 0,done:!0}})},ye.prototype.equals=function(e){return e instanceof ye?de(this._value,e._value):ge(e)},t(me,J),me.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},me.prototype.get=function(e,t){return this.has(e)?this._start+O(this,e)*this._step:t},me.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},me.prototype.slice=function(e,t){return T(e,t,this.size)?this:(e=D(e,this.size),(t=M(t,this.size))<=e?new me(0,0):new me(this.get(e,this._end),this.get(t,this._end),this._step))},me.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},me.prototype.lastIndexOf=function(e){return this.indexOf(e)},me.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},me.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new R(function(){var a=o;return o+=t?-r:r,i>n?{value:void 0,done:!0}:z(e,i++,a)})},me.prototype.equals=function(e){return e instanceof me?this._start===e._start&&this._end===e._end&&this._step===e._step:ge(this,e)},t(_e,n),t(be,_e),t(Se,_e),t(we,_e),_e.Keyed=be,_e.Indexed=Se,_e.Set=we;var Ee="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ke(e){return e>>>1&1073741824|3221225471&e}function Ce(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t,n,r=typeof e;if("number"===r){var o=0|e;for(o!==e&&(o^=4294967295*e);e>4294967295;)o^=e/=4294967295;return ke(o)}if("string"===r)return e.length>Ie?(void 0===(n=Le[t=e])&&(n=Oe(t),Fe===Be&&(Fe=0,Le={}),Fe++,Le[t]=n),n):Oe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===r)return function(e){var t;if(Me&&void 0!==(t=xe.get(e)))return t;if(void 0!==(t=e[Ae]))return t;if(!De){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ae]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ke,1073741824&Ke&&(Ke=0),Me)xe.set(e,t);else{if(void 0!==Te&&!1===Te(e))throw new Error("Non-extensible objects are not allowed as keys.");if(De)Object.defineProperty(e,Ae,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ae]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ae]=t}}return t}(e);if("function"==typeof e.toString)return Oe(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Oe(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ke(t)}var xe,Te=Object.isExtensible,De=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Me="function"==typeof WeakMap;Me&&(xe=new WeakMap);var Ke=0,Ae="__immutablehash__";"function"==typeof Symbol&&(Ae=Symbol(Ae));var Ie=16,Be=255,Fe=0,Le={};function Ne(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Re(e){return null===e||void 0===e?Ze():ze(e)&&!l(e)?e:Ze().withMutations(function(t){var n=r(e);Ne(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function ze(e){return!(!e||!e[Ue])}t(Re,be),Re.prototype.toString=function(){return this.__toString("Map {","}")},Re.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Re.prototype.set=function(e,t){return Qe(this,e,t)},Re.prototype.setIn=function(e,t){return this.updateIn(e,m,function(){return t})},Re.prototype.remove=function(e){return Qe(this,e,m)},Re.prototype.deleteIn=function(e){return this.updateIn(e,function(){return m})},Re.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Re.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,o){var i=t===m,a=n.next();if(a.done){var s=i?r:t,u=o(s);return u===s?t:u}ve(i||t&&t.set,"invalid keyPath");var c=a.value,l=i?m:t.get(c,m),f=e(l,n,r,o);return f===l?t:f===m?t.remove(c):(i?Ze():t).set(c,f)}(this,nn(e),t,n);return r===m?void 0:r},Re.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ze()},Re.prototype.merge=function(){return rt(this,void 0,arguments)},Re.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},Re.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Re.prototype.mergeDeep=function(){return rt(this,ot,arguments)},Re.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,it(t),n)},Re.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Re.prototype.sort=function(e){return Dt(Ht(this,e))},Re.prototype.sortBy=function(e,t){return Dt(Ht(this,t,e))},Re.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Re.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Re.prototype.asImmutable=function(){return this.__ensureOwner()},Re.prototype.wasAltered=function(){return this.__altered},Re.prototype.__iterator=function(e,t){return new Je(this,e,t)},Re.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Re.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?$e(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Re.isMap=ze;var Pe,Ue="@@__IMMUTABLE_MAP__@@",je=Re.prototype;function qe(e,t){this.ownerID=e,this.entries=t}function Ve(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function He(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function We(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Je(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ye(e._root)}function Xe(e,t){return z(e,t[0],t[1])}function Ye(e,t){return{node:e,index:0,__prev:t}}function $e(e,t,n,r){var o=Object.create(je);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Ze(){return Pe||(Pe=$e(0))}function Qe(e,t,n){var r,o;if(e._root){var i=S(_),a=S(b);if(r=et(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===m?-1:1:0)}else{if(n===m)return e;o=1,r=new qe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?$e(o,r):Ze()}function et(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===m?e:(w(s),w(a),new Ge(t,r,[o,i]))}function tt(e){return e.constructor===Ge||e.constructor===We}function nt(e,t,n,r,o){if(e.keyHash===r)return new We(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v,u=a===s?[nt(e,t,n+g,r,o)]:(i=new Ge(t,r,o),a<s?[e,i]:[i,e]);return new Ve(t,1<<a|1<<s,u)}function rt(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],u=r(s);a(s)||(u=u.map(function(e){return fe(e)})),o.push(u)}return at(e,t,o)}function ot(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):de(e,t)?e:t}function it(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return de(t,o)?t:o}}function at(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,m,function(e){return e===m?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function ut(e,t,n,r){var o=r?e:k(e);return o[t]=n,o}je[Ue]=!0,je.delete=je.remove,je.removeIn=je.deleteIn,qe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(n,o[i][0]))return o[i][1];return r},qe.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===m,u=this.entries,c=0,l=u.length;c<l&&!de(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(w(a),(s||!f)&&w(i),!s||1!==u.length){if(!f&&!s&&u.length>=ct)return function(e,t,n,r){e||(e=new E);for(var o=new Ge(e,Ce(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,u,r,o);var p=e&&e===this.ownerID,h=p?u:k(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),p?(this.entries=h,this):new qe(e,h)}},Ve.prototype.get=function(e,t,n,r){void 0===t&&(t=Ce(n));var o=1<<((0===e?t:t>>>e)&v),i=this.bitmap;return 0==(i&o)?r:this.nodes[st(i&o-1)].get(e+g,t,n,r)},Ve.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ce(r));var s=(0===t?n:n>>>t)&v,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&o===m)return this;var f=st(c&u-1),p=this.nodes,h=l?p[f]:void 0,d=et(h,e,t+g,n,r,o,i,a);if(d===h)return this;if(!l&&d&&p.length>=lt)return function(e,t,n,r,o){for(var i=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new He(e,i+1,a)}(e,p,c,s,d);if(l&&!d&&2===p.length&&tt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&tt(d))return d;var _=e&&e===this.ownerID,b=l?d?c:c^u:c|u,S=l?d?ut(p,f,d,_):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(p,f,_):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(p,f,d,_);return _?(this.bitmap=b,this.nodes=S,this):new Ve(e,b,S)},He.prototype.get=function(e,t,n,r){void 0===t&&(t=Ce(n));var o=(0===e?t:t>>>e)&v,i=this.nodes[o];return i?i.get(e+g,t,n,r):r},He.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ce(r));var s=(0===t?n:n>>>t)&v,u=o===m,c=this.nodes,l=c[s];if(u&&!l)return this;var f=et(l,e,t+g,n,r,o,i,a);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<ft)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new Ve(e,o,a)}(e,c,p,s)}else p++;var h=e&&e===this.ownerID,d=ut(c,s,f,h);return h?(this.count=p,this.nodes=d,this):new He(e,p,d)},We.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(n,o[i][0]))return o[i][1];return r},We.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ce(r));var s=o===m;if(n!==this.keyHash)return s?this:(w(a),w(i),nt(this,e,t,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!de(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(w(a),(s||!f)&&w(i),s&&2===l)return new Ge(e,this.keyHash,u[1^c]);var p=e&&e===this.ownerID,h=p?u:k(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),p?(this.entries=h,this):new We(e,this.keyHash,h)},Ge.prototype.get=function(e,t,n,r){return de(n,this.entry[0])?this.entry[1]:r},Ge.prototype.update=function(e,t,n,r,o,i,a){var s=o===m,u=de(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(w(a),s?void w(i):u?e&&e===this.ownerID?(this.entry[1]=o,this):new Ge(e,this.keyHash,[r,o]):(w(i),nt(this,e,t,Ce(r),[r,o])))},qe.prototype.iterate=We.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Ve.prototype.iterate=He.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ge.prototype.iterate=function(e,t){return e(this.entry)},t(Je,R),Je.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return Xe(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return Xe(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Xe(e,i.entry);t=this._stack=Ye(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ct=y/4,lt=y/2,ft=y/4;function pt(e){var t=wt();if(null===e||void 0===e)return t;if(ht(e))return e;var n=o(e),r=n.size;return 0===r?t:(Ne(r),r>0&&r<y?St(0,r,g,null,new yt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function ht(e){return!(!e||!e[dt])}t(pt,Se),pt.of=function(){return this(arguments)},pt.prototype.toString=function(){return this.__toString("List [","]")},pt.prototype.get=function(e,t){if((e=O(this,e))>=0&&e<this.size){var n=Ct(this,e+=this._origin);return n&&n.array[e&v]}return t},pt.prototype.set=function(e,t){return function(e,t,n){if((t=O(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Ot(e,t).set(0,n):Ot(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=S(b);return t>=Tt(e._capacity)?r=Et(r,e.__ownerID,0,t,n,i):o=Et(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):St(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},pt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},pt.prototype.insert=function(e,t){return this.splice(e,0,t)},pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wt()},pt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ot(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},pt.prototype.pop=function(){return Ot(this,0,-1)},pt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ot(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},pt.prototype.shift=function(){return Ot(this,1)},pt.prototype.merge=function(){return xt(this,void 0,arguments)},pt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return xt(this,t,n)},pt.prototype.mergeDeep=function(){return xt(this,ot,arguments)},pt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return xt(this,it(t),n)},pt.prototype.setSize=function(e){return Ot(this,0,e)},pt.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:Ot(this,D(e,n),M(t,n))},pt.prototype.__iterator=function(e,t){var n=0,r=bt(this,t);return new R(function(){var t=r();return t===_t?{value:void 0,done:!0}:z(e,n++,t)})},pt.prototype.__iterate=function(e,t){for(var n,r=0,o=bt(this,t);(n=o())!==_t&&!1!==e(n,r++,this););return r},pt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?St(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},pt.isList=ht;var dt="@@__IMMUTABLE_LIST__@@",gt=pt.prototype;function yt(e,t){this.array=e,this.ownerID=t}gt[dt]=!0,gt.delete=gt.remove,gt.setIn=je.setIn,gt.deleteIn=gt.removeIn=je.removeIn,gt.update=je.update,gt.updateIn=je.updateIn,gt.mergeIn=je.mergeIn,gt.mergeDeepIn=je.mergeDeepIn,gt.withMutations=je.withMutations,gt.asMutable=je.asMutable,gt.asImmutable=je.asImmutable,gt.wasAltered=je.wasAltered,yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new yt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-g,n))===a&&i)return this}if(i&&!o)return this;var s=kt(this,e);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},yt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&v;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-g,n))===i&&o===this.array.length-1)return this}var a=kt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var vt,mt,_t={};function bt(e,t){var n=e._origin,r=e._capacity,o=Tt(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,u=a>n?0:n-a,c=r-a;return c>y&&(c=y),function(){if(u===c)return _t;var e=t?--c:u++;return s&&s[e]}}(e,u):function(e,o,i){var s,u=e&&e.array,c=i>n?0:n-i>>o,l=1+(r-i>>o);return l>y&&(l=y),function(){for(;;){if(s){var e=s();if(e!==_t)return e;s=null}if(c===l)return _t;var n=t?--l:c++;s=a(u&&u[n],o-g,i+(n<<o))}}}(e,s,u)}}function St(e,t,n,r,o,i,a){var s=Object.create(gt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function wt(){return vt||(vt=St(0,0,g))}function Et(e,t,n,r,o,i){var a,s=r>>>n&v,u=e&&s<e.array.length;if(!u&&void 0===o)return e;if(n>0){var c=e&&e.array[s],l=Et(c,t,n-g,r,o,i);return l===c?e:((a=kt(e,t)).array[s]=l,a)}return u&&e.array[s]===o?e:(w(i),a=kt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function kt(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function Ct(e,t){if(t>=Tt(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=g;return n}}function Ot(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new E,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new yt(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=g);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=Tt(i),p=Tt(s);p>=1<<u+g;)c=new yt(c&&c.array.length?[c]:[],r),u+=g;var h=e._tail,d=p<f?Ct(e,s-1):p>f?new yt([],r):h;if(h&&p>f&&a<i&&h.array.length){for(var y=c=kt(c,r),m=u;m>g;m-=g){var _=f>>>m&v;y=y.array[_]=kt(y.array[_],r)}y.array[f>>>g&v]=h}if(s<i&&(d=d&&d.removeAfter(r,0,s)),a>=p)a-=p,s-=p,u=g,c=null,d=d&&d.removeBefore(r,0,a);else if(a>o||p<f){for(l=0;c;){var b=a>>>u&v;if(b!==p>>>u&v)break;b&&(l+=(1<<u)*b),u-=g,c=c.array[b]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&p<f&&(c=c.removeAfter(r,u,p-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=d,e.__hash=void 0,e.__altered=!0,e):St(a,s,u,c,d)}function xt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var u=n[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map(function(e){return fe(e)})),r.push(c)}return i>e.size&&(e=e.setSize(i)),at(e,t,r)}function Tt(e){return e<y?0:e-1>>>g<<g}function Dt(e){return null===e||void 0===e?At():Mt(e)?e:At().withMutations(function(t){var n=r(e);Ne(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Mt(e){return ze(e)&&l(e)}function Kt(e,t,n,r){var o=Object.create(Dt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function At(){return mt||(mt=Kt(Ze(),wt()))}function It(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(n===m){if(!u)return e;a.size>=y&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Kt(r,o)}function Bt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Ft(e){this._iter=e,this.size=e.size}function Lt(e){this._iter=e,this.size=e.size}function Nt(e){this._iter=e,this.size=e.size}function Rt(e){var t=Qt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===B){var r=e.__iterator(t,n);return new R(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===I?A:I,n)},t}function zt(e,t,n){var r=Qt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,m);return i===m?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(B,o);return new R(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return z(r,s,t.call(n,a[1],s,e),o)})},r}function Pt(e,t){var n=Qt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Rt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Ut(e,t,n,r){var o=Qt(e);return r&&(o.has=function(r){var o=e.get(r,m);return o!==m&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,m);return i!==m&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(B,i),s=0;return new R(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return z(o,r?c:s++,l,i)}})},o}function jt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),T(t,n,o))return e;var i=D(t,o),a=M(n,o);if(i!=i||a!=a)return jt(e.toSeq().cacheResult(),t,n,r);var s,u=a-i;u==u&&(s=u<0?0:u);var c=Qt(e);return c.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(c.get=function(t,n){return(t=O(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate(function(e,n){if(!u||!(u=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,u=0;return new R(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var e=o.next();return r||t===I?e:z(t,u-1,t===A?void 0:e.value[1],e)})},c}function qt(e,t,n,r){var o=Qt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate(function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(B,i),u=!0,c=0;return new R(function(){var e,i,l;do{if((e=s.next()).done)return r||o===I?e:z(o,c++,o===A?void 0:e.value[1],e);var f=e.value;i=f[0],l=f[1],u&&(u=t.call(n,l,i,a))}while(u);return o===B?e:z(o,i,l,e)})},o}function Vt(e,t,n){var r=Qt(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function e(u,c){var l=this;u.__iterate(function(o,u){return(!t||c<t)&&a(o)?e(o,c+1):!1===r(o,n?u:i++,l)&&(s=!0),!s},o)}(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],u=0;return new R(function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(r===B&&(c=c[1]),t&&!(s.length<t)||!a(c))return n?e:z(r,u++,c,e);s.push(i),i=c.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}})},r}function Ht(e,t,n){t||(t=tn);var r=s(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?G(i):u(e)?J(i):X(i)}function Wt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Gt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Gt(t,e,n)?n:e})}function Gt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function Jt(e,t,r){var o=Qt(e);return o.size=new ee(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(I,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=n(e),q(o?e.reverse():e)}),a=0,s=!1;return new R(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:z(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function Xt(e,t){return oe(e)?t:e.constructor(t)}function Yt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function $t(e){return Ne(e.size),C(e)}function Zt(e){return s(e)?r:u(e)?o:i}function Qt(e){return Object.create((s(e)?G:u(e)?J:X).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=q(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=q(n(e))}return t}function rn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Re(i)},o=r.prototype=Object.create(on);return o.constructor=r,r}t(Dt,Re),Dt.of=function(){return this(arguments)},Dt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Dt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):At()},Dt.prototype.set=function(e,t){return It(this,e,t)},Dt.prototype.remove=function(e){return It(this,e,m)},Dt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Dt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Dt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Dt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Dt.isOrderedMap=Mt,Dt.prototype[d]=!0,Dt.prototype.delete=Dt.prototype.remove,t(Bt,G),Bt.prototype.get=function(e,t){return this._iter.get(e,t)},Bt.prototype.has=function(e){return this._iter.has(e)},Bt.prototype.valueSeq=function(){return this._iter.valueSeq()},Bt.prototype.reverse=function(){var e=this,t=Pt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Bt.prototype.map=function(e,t){var n=this,r=zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Bt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?$t(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Bt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(I,t),r=t?$t(this):0;return new R(function(){var o=n.next();return o.done?o:z(e,t?--r:r++,o.value,o)})},Bt.prototype[d]=!0,t(Ft,J),Ft.prototype.includes=function(e){return this._iter.includes(e)},Ft.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Ft.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t),r=0;return new R(function(){var t=n.next();return t.done?t:z(e,r++,t.value,t)})},t(Lt,X),Lt.prototype.has=function(e){return this._iter.includes(e)},Lt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Lt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t);return new R(function(){var t=n.next();return t.done?t:z(e,t.value,t.value,t)})},t(Nt,G),Nt.prototype.entrySeq=function(){return this._iter.toSeq()},Nt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Yt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Nt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t);return new R(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Yt(r);var o=a(r);return z(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},Ft.prototype.cacheResult=Bt.prototype.cacheResult=Lt.prototype.cacheResult=Nt.prototype.cacheResult=en,t(rn,be),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Ze()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:an(this,n)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function un(e){return null===e||void 0===e?gn():cn(e)&&!l(e)?e:gn().withMutations(function(t){var n=i(e);Ne(n.size),n.forEach(function(e){return t.add(e)})})}function cn(e){return!(!e||!e[fn])}on.delete=on.remove,on.deleteIn=on.removeIn=je.removeIn,on.merge=je.merge,on.mergeWith=je.mergeWith,on.mergeIn=je.mergeIn,on.mergeDeep=je.mergeDeep,on.mergeDeepWith=je.mergeDeepWith,on.mergeDeepIn=je.mergeDeepIn,on.setIn=je.setIn,on.update=je.update,on.updateIn=je.updateIn,on.withMutations=je.withMutations,on.asMutable=je.asMutable,on.asImmutable=je.asImmutable,t(un,we),un.of=function(){return this(arguments)},un.fromKeys=function(e){return this(r(e).keySeq())},un.prototype.toString=function(){return this.__toString("Set {","}")},un.prototype.has=function(e){return this._map.has(e)},un.prototype.add=function(e){return hn(this,this._map.set(e,!0))},un.prototype.remove=function(e){return hn(this,this._map.remove(e))},un.prototype.clear=function(){return hn(this,this._map.clear())},un.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},un.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},un.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},un.prototype.merge=function(){return this.union.apply(this,arguments)},un.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},un.prototype.sort=function(e){return yn(Ht(this,e))},un.prototype.sortBy=function(e,t){return yn(Ht(this,t,e))},un.prototype.wasAltered=function(){return this._map.wasAltered()},un.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},un.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},un.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},un.isSet=cn;var ln,fn="@@__IMMUTABLE_SET__@@",pn=un.prototype;function hn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function dn(e,t){var n=Object.create(pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function gn(){return ln||(ln=dn(Ze()))}function yn(e){return null===e||void 0===e?Sn():vn(e)?e:Sn().withMutations(function(t){var n=i(e);Ne(n.size),n.forEach(function(e){return t.add(e)})})}function vn(e){return cn(e)&&l(e)}pn[fn]=!0,pn.delete=pn.remove,pn.mergeDeep=pn.merge,pn.mergeDeepWith=pn.mergeWith,pn.withMutations=je.withMutations,pn.asMutable=je.asMutable,pn.asImmutable=je.asImmutable,pn.__empty=gn,pn.__make=dn,t(yn,un),yn.of=function(){return this(arguments)},yn.fromKeys=function(e){return this(r(e).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=vn;var mn,_n=yn.prototype;function bn(e,t){var n=Object.create(_n);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Sn(){return mn||(mn=bn(At()))}function wn(e){return null===e||void 0===e?Tn():En(e)?e:Tn().unshiftAll(e)}function En(e){return!(!e||!e[Cn])}_n[d]=!0,_n.__empty=Sn,_n.__make=bn,t(wn,Se),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("Stack [","]")},wn.prototype.get=function(e,t){var n=this._head;for(e=O(this,e);n&&e--;)n=n.next;return n?n.value:t},wn.prototype.peek=function(){return this._head&&this._head.value},wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):xn(e,t)},wn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Ne(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(t,n)},wn.prototype.pop=function(){return this.slice(1)},wn.prototype.unshift=function(){return this.push.apply(this,arguments)},wn.prototype.unshiftAll=function(e){return this.pushAll(e)},wn.prototype.shift=function(){return this.pop.apply(this,arguments)},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Tn()},wn.prototype.slice=function(e,t){if(T(e,t,this.size))return this;var n=D(e,this.size),r=M(t,this.size);if(r!==this.size)return Se.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):xn(o,i)},wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new R(function(){if(r){var t=r.value;return r=r.next,z(e,n++,t)}return{value:void 0,done:!0}})},wn.isStack=En;var kn,Cn="@@__IMMUTABLE_STACK__@@",On=wn.prototype;function xn(e,t,n,r){var o=Object.create(On);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Tn(){return kn||(kn=xn(0))}function Dn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}On[Cn]=!0,On.withMutations=je.withMutations,On.asMutable=je.asMutable,On.asImmutable=je.asImmutable,On.wasAltered=je.wasAltered,n.Iterator=R,Dn(n,{toArray:function(){Ne(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Ft(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Bt(this,!0)},toMap:function(){return Re(this.toKeyedSeq())},toObject:function(){Ne(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Dt(this.toKeyedSeq())},toOrderedSet:function(){return yn(s(this)?this.valueSeq():this)},toSet:function(){return un(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Lt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wn(s(this)?this.valueSeq():this)},toList:function(){return pt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Xt(this,function(e,t){var n=s(e),o=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||u(e)&&u(i))return i}var c=new ee(o);return n?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),c}(this,t))},includes:function(e){return this.some(function(t){return de(t,e)})},entries:function(){return this.__iterator(B)},every:function(e,t){Ne(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Xt(this,Ut(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ne(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ne(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(A)},map:function(e,t){return Xt(this,zt(this,e,t))},reduce:function(e,t,n){var r,o;return Ne(this.size),arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Xt(this,Pt(this,!0))},slice:function(e,t){return Xt(this,jt(this,e,t,!0))},some:function(e,t){return!this.every(Bn(e),t)},sort:function(e){return Xt(this,Ht(this,e))},values:function(){return this.__iterator(I)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Re().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return ge(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(In).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Bn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(x)},flatMap:function(e,t){return Xt(this,function(e,t,n){var r=Zt(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Xt(this,Vt(this,e,!0))},fromEntrySeq:function(){return new Nt(this)},get:function(e,t){return this.find(function(t,n){return de(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=nn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,m):m)===m)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),o=(l(e)?Dt():Re()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=Zt(e);return o.map(function(t){return Xt(e,i(t))})}(this,e,t)},has:function(e){return this.get(e,m)!==m},hasIn:function(e){return this.getIn(e,m)!==m},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(An).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Wt(this,e)},maxBy:function(e,t){return Wt(this,t,e)},min:function(e){return Wt(this,e?Fn(e):Rn)},minBy:function(e,t){return Wt(this,t?Fn(t):Rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Xt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Xt(this,qt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Bn(e),t)},sortBy:function(e,t){return Xt(this,Ht(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Xt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Xt(this,function(e,t,n){var r=Qt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(B,o),s=!0;return new R(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(n,c,u,i)?r===B?e:z(r,u,c,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Bn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return function(e,t){return t=Ee(t,3432918353),t=Ee(t<<15|t>>>-15,461845907),t=Ee(t<<13|t>>>-13,5),t=Ee((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ke((t=Ee(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+zn(Ce(e),Ce(t))|0}:function(e,t){r=r+zn(Ce(e),Ce(t))|0}:t?function(e){r=31*r+Ce(e)|0}:function(e){r=r+Ce(e)|0}),r)}(this))}});var Mn=n.prototype;Mn[f]=!0,Mn[N]=Mn.values,Mn.__toJS=Mn.toArray,Mn.__toStringMapper=Ln,Mn.inspect=Mn.toSource=function(){return this.toString()},Mn.chain=Mn.flatMap,Mn.contains=Mn.includes,function(){try{Object.defineProperty(Mn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Dn(r,{flip:function(){return Xt(this,Rt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return de(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return de(t,e)})},mapEntries:function(e,t){var n=this,r=0;return Xt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Xt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Kn=r.prototype;function An(e,t){return t}function In(e,t){return[t,e]}function Bn(e){return function(){return!e.apply(this,arguments)}}function Fn(e){return function(){return-e.apply(this,arguments)}}function Ln(e){return"string"==typeof e?JSON.stringify(e):e}function Nn(){return k(arguments)}function Rn(e,t){return e<t?1:e>t?-1:0}function zn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Kn[p]=!0,Kn[N]=Mn.entries,Kn.__toJS=Mn.toObject,Kn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Ln(e)},Dn(o,{toKeyedSeq:function(){return new Bt(this,!1)},filter:function(e,t){return Xt(this,Ut(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Xt(this,Pt(this,!1))},slice:function(e,t){return Xt(this,jt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return Xt(this,1===n?r:r.concat(k(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Xt(this,Vt(this,e,!1))},get:function(e,t){return(e=O(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=O(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Xt(this,function(e,t){var n=Qt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(I,r),a=0;return new R(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?z(n,a++,t):z(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(k(arguments)),t=Jt(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Xt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Xt(this,qt(this,e,t,!1))},zip:function(){return Xt(this,Jt(this,Nn,[this].concat(k(arguments))))},zipWith:function(e){var t=k(arguments);return t[0]=this,Xt(this,Jt(this,e,t))}}),o.prototype[h]=!0,o.prototype[d]=!0,Dn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Mn.includes,Dn(G,r.prototype),Dn(J,o.prototype),Dn(X,i.prototype),Dn(be,r.prototype),Dn(Se,o.prototype),Dn(we,i.prototype),{Iterable:n,Seq:W,Collection:_e,Map:Re,OrderedMap:Dt,List:pt,Stack:wn,Set:un,OrderedSet:yn,Record:rn,Range:me,Repeat:ye,is:de,fromJS:fe}}()})),v=y.OrderedMap,m={createFromArray:function(e){return v(e.map(function(e){return[e.getKey(),e]}))}};var _=y.Map,b=y.OrderedSet,S=y.Record,w=b(),E={style:w,entity:null},k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStyle=function(){return this.get("style")},t.prototype.getEntity=function(){return this.get("entity")},t.prototype.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)},t.removeStyle=function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)},t.applyEntity=function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)},t.create=function(e){if(!e)return C;var n=_({style:w,entity:null}).merge(e),r=O.get(n);if(r)return r;var o=new t(n);return O=O.set(n,o),o},t}(S(E)),C=new k,O=_([[_(E),C]]);k.EMPTY=C;var x=k;var T=function(e,t,n,r){if(e.size){var o=0;e.reduce(function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i}),n(e.last())&&r(o,e.count())}};var D=y.List,M=y.Map,K=y.OrderedSet,A=y.Record,I=y.Repeat,B=K(),F=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=D(I(x.EMPTY,n.length))),e};function L(e,t){return e.getStyle()===t.getStyle()}function N(e,t){return e.getEntity()===t.getEntity()}var R=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,F(n)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():B},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.findStyleRanges=function(e,t){T(this.getCharacterList(),L,e,t)},t.prototype.findEntityRanges=function(e,t){T(this.getCharacterList(),N,e,t)},t}(A({key:"",type:"unstyled",text:"",characterList:D(),depth:0,data:M()}));var z=y.List,P=y.Map,U=y.OrderedSet,j=y.Record,q=y.Repeat,V=U(),H={parent:null,characterList:z(),data:P(),depth:0,key:"",text:"",type:"unstyled",children:z(),prevSibling:null,nextSibling:null},W=function(e,t){return e.getStyle()===t.getStyle()},G=function(e,t){return e.getEntity()===t.getEntity()},J=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=z(q(x.EMPTY,n.length))),e},X=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,J(n)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():V},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.getChildKeys=function(){return this.get("children")},t.prototype.getParentKey=function(){return this.get("parent")},t.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},t.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},t.prototype.findStyleRanges=function(e,t){T(this.getCharacterList(),W,e,t)},t.prototype.findEntityRanges=function(e,t){T(this.getCharacterList(),G,e,t)},t}(j(H)),Y={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1},$=y.Map;function Z(e,t,n,r){var o=e.getBlockMap(),i=t.getStartKey(),a=t.getStartOffset(),s=t.getEndKey(),u=t.getEndOffset(),c=o.skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===s}).concat($([[s,o.get(s)]])).map(function(e,t){var o,c;i===s?(o=a,c=u):(o=t===i?a:0,c=t===s?u:e.getLength());for(var l,f=e.getCharacterList();o<c;)l=f.get(o),f=f.set(o,r?x.applyStyle(l,n):x.removeStyle(l,n)),o++;return e.set("characterList",f)});return e.merge({blockMap:o.merge(c),selectionBefore:t,selectionAfter:t})}var Q={add:function(e,t,n){return Z(e,t,n,!0)},remove:function(e,t,n){return Z(e,t,n,!1)}};var ee=function(e,t,n,r){for(var o=e.getCharacterList();t<n;)o=o.set(t,x.applyEntity(o.get(t),r)),t++;return e.set("characterList",o)};var te=function(e,t,n){var r=e.getBlockMap(),o=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),u=r.skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===a}).toOrderedMap().merge(y.OrderedMap([[a,r.get(a)]])).map(function(e,t){var r=t===o?i:0,u=t===a?s:e.getLength();return ee(e,r,u,n)});return e.merge({blockMap:r.merge(u),selectionBefore:t,selectionAfter:t})},ne={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map(function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e});for(var a,s=r,u=null,c=null,l=0;l<i.length;l++){if(e<(a=s+i[l].length)&&s<t)null!==u?c=a:(u=s,c=a);else if(null!==u)break;s=a}var f=r+n.length,p=u===r,h=c===f;return(!p&&h||p&&!h)&&("forward"===o?c!==f&&c++:u!==r&&u--),{start:u,end:c}}};var re=function(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length||l(!1),n};function oe(e,t,n,r,o,i,a){var s=n.getStartOffset(),u=n.getEndOffset(),c=e.__get(o).getMutability(),f=a?s:u;if("MUTABLE"===c)return n;var p=re(t,o).filter(function(e){return f<=e.end&&f>=e.start});1!=p.length&&l(!1);var h=p[0];if("IMMUTABLE"===c)return n.merge({anchorOffset:h.start,focusOffset:h.end,isBackward:!1});i||(a?u=h.end:s=h.start);var d=ne.getRemovalRange(s,u,t.getText().slice(h.start,h.end),h.start,r);return n.merge({anchorOffset:d.start,focusOffset:d.end,isBackward:!1})}var ie=function(e,t,n,r,o){var i=r.getStartOffset(),a=r.getEndOffset(),s=t.getEntityAt(i),u=n.getEntityAt(a-1);if(!s&&!u)return r;var c=r;if(s&&s===u)c=oe(e,t,c,o,s,!0,!0);else if(s&&u){var l=oe(e,t,c,o,s,!1,!0),f=oe(e,n,c,o,u,!1,!1);c=c.merge({anchorOffset:l.getAnchorOffset(),focusOffset:f.getFocusOffset(),isBackward:!1})}else if(s){var p=oe(e,t,c,o,s,!1,!0);c=c.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(u){var h=oe(e,n,c,o,u,!1,!1);c=c.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return c},ae={},se=Math.pow(2,24);var ue=function(){for(var e=void 0;void 0===e||ae.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*se).toString(32);return ae[e]=!0,e},ce=y.OrderedMap,le=function(e){return e.first()instanceof X?function(e){var t={},n=void 0;return ce(e.withMutations(function(e){e.forEach(function(r,o){var i=r.getKey(),a=r.getNextSiblingKey(),s=r.getPrevSiblingKey(),u=r.getChildKeys(),c=r.getParentKey(),l=ue();if(t[i]=l,a&&(e.get(a)?e.setIn([a,"prevSibling"],l):e.setIn([i,"nextSibling"],null)),s&&(e.get(s)?e.setIn([s,"nextSibling"],l):e.setIn([i,"prevSibling"],null)),c&&e.get(c)){var f=e.get(c).getChildKeys();e.setIn([c,"children"],f.set(f.indexOf(r.getKey()),l))}else e.setIn([i,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],l),e.setIn([i,"prevSibling"],t[n.getKey()])),n=e.get(i);u.forEach(function(t){e.get(t)?e.setIn([t,"parent"],l):e.setIn([i,"children"],r.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]}))}(e):function(e){return ce(e.toArray().map(function(e){var t=ue();return[t,e.set("key",t)]}))}(e)};function fe(e,t,n){var r=t.getCharacterList(),o=n>0?r.get(n-1):void 0,i=n<r.count()?r.get(n):void 0,a=o?o.getEntity():void 0,s=i?i.getEntity():void 0;if(s&&s===a&&"MUTABLE"!==e.__get(s).getMutability()){for(var u,c=function(e,t,n){var r;return T(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!=typeof r&&l(!1),r}(r,s,n),f=c.start,p=c.end;f<p;)u=r.get(f),r=r.set(f,x.applyEntity(u,null)),f++;return t.set("characterList",r)}return t}var pe=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},i=t.getStartKey(),a=t.getStartOffset(),s=n.get(i),u=fe(r,s,a);u!==s&&(o[i]=u);var c=t.getEndKey(),l=t.getEndOffset(),f=n.get(c);i===c&&(f=u);var p=fe(r,f,l);return p!==f&&(o[c]=p),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)},he=function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=t.getEndKey(),i=t.getEndOffset(),a=pe(e,t).getBlockMap(),s=a.keySeq(),u=s.indexOf(n),c=s.indexOf(o)+1;return le(a.slice(u,c).map(function(e,t){var a=e.getText(),s=e.getCharacterList();return n===o?e.merge({text:a.slice(r,i),characterList:s.slice(r,i)}):t===n?e.merge({text:a.slice(r),characterList:s.slice(r)}):t===o?e.merge({text:a.slice(0,i),characterList:s.slice(0,i)}):e}))};var de=function(e,t,n){if(n===e.count())t.forEach(function(t){e=e.push(t)});else if(0===n)t.reverse().forEach(function(t){e=e.unshift(t)});else{var r=e.slice(0,n),o=e.slice(n);e=r.concat(t,o).toList()}return e},ge=y.List,ye=function(e,t,n,r,o,i){var a=n.first()instanceof X,s=[],u=r.size,c=n.get(o),l=r.first(),f=r.last(),p=f.getLength(),h=f.getKey(),d=a&&(!c.getChildKeys().isEmpty()||!l.getChildKeys().isEmpty());n.forEach(function(e,t){t===o?(d?s.push(e):s.push(function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.slice(0,t),a=o.slice(0,t),s=n.first();return e.merge({text:i+s.getText(),characterList:a.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})}(e,i,r)),r.slice(d?0:1,u-1).forEach(function(e){return s.push(e)}),s.push(function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.length,a=r.slice(t,i),s=o.slice(t,i),u=n.last();return u.merge({text:u.getText()+a,characterList:u.getCharacterList().concat(s),data:u.getData()})}(e,i,r))):s.push(e)});var g=m.createFromArray(s);return a&&(g=function(e,t,n,r){return e.withMutations(function(t){var o=n.getKey(),i=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),u=function(e,t){var n=e.getKey(),r=e,o=[];for(t.get(n)&&o.push(n);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;o.push(i),r=t.get(i)}return o}(r,e),c=u[u.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],o)),t.setIn([c,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],c),u.forEach(function(e){return t.setIn([e,"parent"],s)}),s){var l=e.get(s).getChildKeys(),f=l.indexOf(o)+1,p=l.toArray();p.splice.apply(p,[f,0].concat(u)),t.setIn([s,"children"],ge(p))}})}(g,0,c,l)),e.merge({blockMap:g,selectionBefore:t,selectionAfter:t.merge({anchorKey:h,anchorOffset:p,focusKey:h,focusOffset:p,isBackward:!1})})},ve=function(e,t,n){t.isCollapsed()||l(!1);var r=e.getBlockMap(),o=le(n),i=t.getStartKey(),a=t.getStartOffset(),s=r.get(i);return s instanceof X&&(s.getChildKeys().isEmpty()||l(!1)),1===o.size?function(e,t,n,r,o,i){var a=n.get(o),s=a.getText(),u=a.getCharacterList(),c=o,l=i+r.getText().length,f=a.merge({text:s.slice(0,i)+r.getText()+s.slice(i),characterList:de(u,r.getCharacterList(),i),data:r.getData()});return e.merge({blockMap:n.set(o,f),selectionBefore:t,selectionAfter:t.merge({anchorKey:c,anchorOffset:l,focusKey:c,focusOffset:l,isBackward:!1})})}(e,t,r,o.first(),i,a):ye(e,t,r,o,i,a)},me=y.Repeat;var _e=function(e,t,n,r){t.isCollapsed()||l(!1);var o=n.length;if(!o)return e;var i=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),u=i.get(a),c=u.getText(),f=u.merge({text:c.slice(0,s)+n+c.slice(s,u.getLength()),characterList:de(u.getCharacterList(),me(r,o).toList(),s)}),p=s+o;return e.merge({blockMap:i.set(a,f),selectionAfter:t.merge({anchorOffset:p,focusOffset:p})})},be=y.Map;var Se=function(e,t,n){var r=t.getStartKey(),o=t.getEndKey(),i=e.getBlockMap(),a=i.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat(be([[o,i.get(o)]])).map(n);return e.merge({blockMap:i.merge(a),selectionBefore:t,selectionAfter:t})},we=function(e,t){if(!(e instanceof X))return null;var n=e.getNextSiblingKey();if(n)return n;var r=e.getParentKey();if(!r)return null;for(var o=t.get(r);o&&!o.getNextSiblingKey();){var i=o.getParentKey();o=i?t.get(i):null}return o?o.getNextSiblingKey():null},Ee=y.Map,ke=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},Ce=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},Oe=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},xe=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},Te=function(e,t,n,r){return e.withMutations(function(e){ke(t.getKey(),e,function(n){return n.merge({nextSibling:Oe(t,e,r),prevSibling:xe(t,e,r)})}),ke(n.getKey(),e,function(t){return t.merge({nextSibling:Oe(n,e,r),prevSibling:xe(n,e,r)})}),Ce(t.getKey(),r).forEach(function(t){return ke(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:Oe(t,e,r),prevSibling:xe(t,e,r)})})}),ke(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),ke(t.getPrevSiblingKey(),e,function(n){return n.merge({nextSibling:Oe(t,e,r)})}),ke(n.getNextSiblingKey(),e,function(t){return t.merge({prevSibling:xe(n,e,r)})}),ke(n.getPrevSiblingKey(),e,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),Ce(n.getKey(),r).forEach(function(t){ke(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:Oe(t,e,r),prevSibling:xe(t,e,r)})})}),function(e,t){var n=[];if(!e)return n;for(var r=we(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?we(o,t):null}return n}(n,r).forEach(function(t){return ke(t,e,function(t){return t.merge({nextSibling:Oe(t,e,r),prevSibling:xe(t,e,r)})})})})},De=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e},Me=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),r=t.getStartKey(),o=t.getStartOffset(),i=t.getEndKey(),a=t.getEndOffset(),s=n.get(r),u=n.get(i),c=s instanceof X,l=[];if(c){var f=u.getChildKeys(),p=Ce(i,n);u.getNextSiblingKey()&&(l=l.concat(p)),f.isEmpty()||(l=l.concat(p.concat([i]))),l=l.concat(Ce(we(u,n),n))}var h=void 0;h=s===u?De(s.getCharacterList(),o,a):s.getCharacterList().slice(0,o).concat(u.getCharacterList().slice(a));var d=s.merge({text:s.getText().slice(0,o)+u.getText().slice(a),characterList:h}),g=n.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===i}).filter(function(e,t){return-1===l.indexOf(t)}).concat(Ee([[i,null]])).map(function(e,t){return t===r?d:null}),y=n.merge(g).filter(function(e){return!!e});return c&&(y=Te(y,s,u,n)),e.merge({blockMap:y,selectionBefore:t,selectionAfter:t.merge({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1})})},Ke=y.List,Ae=y.Map,Ie=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},Be=function(e,t){t.isCollapsed()||l(!1);var n=t.getAnchorKey(),r=t.getAnchorOffset(),o=e.getBlockMap(),i=o.get(n),a=i.getText(),s=i.getCharacterList(),u=ue(),c=i instanceof X,f=i.merge({text:a.slice(0,r),characterList:s.slice(0,r)}),p=f.merge({key:u,text:a.slice(r),characterList:s.slice(r),data:Ae()}),h=o.toSeq().takeUntil(function(e){return e===i}),d=o.toSeq().skipUntil(function(e){return e===i}).rest(),g=h.concat([[n,f],[u,p]],d).toOrderedMap();return c&&(i.getChildKeys().isEmpty()||l(!1),g=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),o=n.getKey();Ie(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:Ke(i)})}),Ie(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:o})}),Ie(r,e,function(e){return e.merge({nextSibling:o})}),Ie(o,e,function(e){return e.merge({prevSibling:r})})})}(g,f,p)),e.merge({blockMap:g,selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0,isBackward:!1})})},Fe=y.OrderedSet,Le={replaceText:function(e,t,n,r,o){var i=pe(e,t),a=Me(i,t),s=x.create({style:r||Fe(),entity:o||null});return _e(a,a.getSelectionAfter(),n,s)},insertText:function(e,t,n,r,o){return t.isCollapsed()||l(!1),Le.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=he(e,t),o=Le.removeRange(e,t,"backward");return Le.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=pe(e,t),o=Me(r,t);return ve(o,o.getSelectionAfter(),n)},removeRange:function(e,t,n){var r,o,i=void 0,a=void 0;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(r),a=e.getBlockForKey(o);var s=t.getStartOffset(),u=t.getEndOffset(),c=i.getEntityAt(s),l=a.getEntityAt(u-1);if(r===o&&c&&c===l){var f=ie(e.getEntityMap(),i,a,t,n);return Me(e,f)}var p=t;Y.draft_segmented_entities_behavior&&(p=ie(e.getEntityMap(),i,a,t,n));var h=pe(e,p);return Me(h,p)},splitBlock:function(e,t){var n=pe(e,t),r=Me(n,t);return Be(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return Q.add(e,t,n)},removeInlineStyle:function(e,t,n){return Q.remove(e,t,n)},setBlockType:function(e,t,n){return Se(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return Se(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return Se(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){var r=pe(e,t);return te(r,t,n)}},Ne=Le,Re=y.List,ze=y.Repeat,Pe=y.Record,Ue=c.thatReturnsTrue,je=Pe({start:null,end:null}),qe=Pe({start:null,end:null,decoratorKey:null,leaves:null});function Ve(e,t){return e===t}var He={generate:function(e,t,n){var r=t.getLength();if(!r)return Re.of(new qe({start:0,end:0,decoratorKey:null,leaves:Re.of(new je({start:0,end:0}))}));var o=[],i=n?n.getDecorations(t,e):Re(ze(null,r)),a=t.getCharacterList();return T(i,Ve,Ue,function(e,t){var n,r,s,u;o.push(new qe({start:e,end:t,decoratorKey:i.get(e),leaves:(n=a.slice(e,t).toList(),r=e,s=[],u=n.map(function(e){return e.getStyle()}).toList(),T(u,Ve,Ue,function(e,t){s.push(new je({start:e+r,end:t+r}))}),Re(s))}))}),Re(o)},getFingerprint:function(e){return e.map(function(e){var t=e.get("decoratorKey");return(null!==t?t+"."+(e.get("end")-e.get("start")):"")+"."+e.get("leaves").size}).join("-")}};var We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getType=function(){return this.get("type")},t.prototype.getMutability=function(){return this.get("mutability")},t.prototype.getData=function(){return this.get("data")},t}((0,y.Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object})),Ge=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je=(0,y.Map)(),Xe=0;function Ye(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var $e={getLastCreatedEntityKey:function(){return Ye("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),$e.__getLastCreatedEntityKey()},create:function(e,t,n){return Ye("DraftEntity.create","contentState.createEntity"),$e.__create(e,t,n)},add:function(e){return Ye("DraftEntity.add","contentState.addEntity"),$e.__add(e)},get:function(e){return Ye("DraftEntity.get","contentState.getEntity"),$e.__get(e)},mergeData:function(e,t){return Ye("DraftEntity.mergeData","contentState.mergeEntityData"),$e.__mergeData(e,t)},replaceData:function(e,t){return Ye("DraftEntity.replaceData","contentState.replaceEntityData"),$e.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return""+Xe},__create:function(e,t,n){return $e.__add(new We({type:e,mutability:t,data:n||{}}))},__add:function(e){var t=""+ ++Xe;return Je=Je.set(t,e),t},__get:function(e){var t=Je.get(e);return t||l(!1),t},__mergeData:function(e,t){var n=$e.__get(e),r=Ge({},n.getData(),t),o=n.set("data",r);return Je=Je.set(e,o),o},__replaceData:function(e,t){var n=$e.__get(e).set("data",t);return Je=Je.set(e,n),n}},Ze=$e;var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},t.prototype.getAnchorKey=function(){return this.get("anchorKey")},t.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},t.prototype.getFocusKey=function(){return this.get("focusKey")},t.prototype.getFocusOffset=function(){return this.get("focusOffset")},t.prototype.getIsBackward=function(){return this.get("isBackward")},t.prototype.getHasFocus=function(){return this.get("hasFocus")},t.prototype.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset();return t<=this.getEndOffset()&&i<=n}if(e!==r&&e!==o)return!1;var a=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=a&&n>=a},t.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},t.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},t.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},t.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},t.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t}((0,y.Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1})),et=new RegExp("\r","g");var tt=function(e){return e.replace(et,"")};var nt=y.List,rt=y.Record,ot=y.Repeat,it=Y.draft_tree_data_support?X:R,at=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getEntityMap=function(){return Ze},t.prototype.getBlockMap=function(){return this.get("blockMap")},t.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},t.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},t.prototype.getBlockForKey=function(e){return this.getBlockMap().get(e)},t.prototype.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},t.prototype.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},t.prototype.getBlockAfter=function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},t.prototype.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},t.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},t.prototype.getFirstBlock=function(){return this.getBlockMap().first()},t.prototype.getLastBlock=function(){return this.getBlockMap().last()},t.prototype.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},t.prototype.getLastCreatedEntityKey=function(){return Ze.__getLastCreatedEntityKey()},t.prototype.hasText=function(){var e=this.getBlockMap();return e.size>1||e.first().getLength()>0},t.prototype.createEntity=function(e,t,n){return Ze.__create(e,t,n),this},t.prototype.mergeEntityData=function(e,t){return Ze.__mergeData(e,t),this},t.prototype.replaceEntityData=function(e,t){return Ze.__replaceData(e,t),this},t.prototype.addEntity=function(e){return Ze.__add(e),this},t.prototype.getEntity=function(e){return Ze.__get(e)},t.createFromBlockArray=function(e,n){var r=Array.isArray(e)?e:e.contentBlocks,o=m.createFromArray(r),i=o.isEmpty()?new Qe:Qe.createEmpty(o.first().getKey());return new t({blockMap:o,entityMap:n||Ze,selectionBefore:i,selectionAfter:i})},t.createFromText=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(n).map(function(e){return e=tt(e),new it({key:ue(),text:e,type:"unstyled",characterList:nt(ot(x.EMPTY,e.length))})});return t.createFromBlockArray(r)},t}(rt({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null})),st="LTR",ut="RTL",ct=null;function lt(e){return e===st||e===ut}function ft(e){return lt(e)||l(!1),e===st?"ltr":"rtl"}function pt(e){ct=e}var ht={NEUTRAL:"NEUTRAL",LTR:st,RTL:ut,isStrong:lt,getHTMLDir:ft,getHTMLDirIfDifferent:function(e,t){return lt(e)||l(!1),lt(t)||l(!1),e===t?null:ft(e)},setGlobalDir:pt,initGlobalDir:function(){pt(st)},getGlobalDir:function(){return ct||this.initGlobalDir(),ct||l(!1),ct}},dt="----------------------",gt="------------------------------",yt=new RegExp("["+"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"+dt+gt+"]"),vt=new RegExp("["+dt+gt+"]");function mt(e){var t=yt.exec(e);return null==t?null:t[0]}function _t(e){var t=mt(e);return null==t?ht.NEUTRAL:vt.exec(t)?ht.RTL:ht.LTR}function bt(e,t){if(t=t||ht.NEUTRAL,!e.length)return t;var n=_t(e);return n===ht.NEUTRAL?t:n}function St(e,t){return t||(t=ht.getGlobalDir()),ht.isStrong(t)||l(!1),bt(e,t)}var wt={firstStrongChar:mt,firstStrongCharDir:_t,resolveBlockDir:bt,getDirection:St,isDirectionLTR:function(e,t){return St(e,t)===ht.LTR},isDirectionRTL:function(e,t){return St(e,t)===ht.RTL}};var Et,kt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?ht.isStrong(t)||l(!1):t=ht.getGlobalDir(),this._defaultDir=t,this.reset()}return e.prototype.reset=function(){this._lastDir=this._defaultDir},e.prototype.getDirection=function(e){return this._lastDir=wt.getDirection(e,this._lastDir),this._lastDir},e}(),Ct=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")},Ot=y.OrderedMap,xt={getDirectionMap:function(e,t){Et?Et.reset():Et=new kt;var n=e.getBlockMap(),r=n.valueSeq().map(function(e){return Ct(Et).getDirection(e.getText())}),o=Ot(n.keySeq().zip(r));return null!=t&&y.is(t,o)?t:o}},Tt=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Dt=y.OrderedSet,Mt=y.Record,Kt=y.Stack,At=Mt({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:Kt(),selection:null,treeMap:null,undoStack:Kt()}),It=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(at.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:Kt(),redoStack:Kt(),decorator:n||null,selection:Qe.createEmpty(r)})},e.create=function(t){var n=t.currentContent,r=t.decorator,o=Tt({},t,{treeMap:Ft(n,r),directionMap:xt.getDirectionMap(n)});return new e(new At(o))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var i=n.currentContent||t.getCurrentContent();if(o!==r){var a,s=e.get("treeMap");return a=o&&r?function(e,t,n,r,o){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)}).map(function(t){return He.generate(e,t,r)}))}(i,i.getBlockMap(),s,o,r):Ft(i,o),void e.merge({decorator:o,treeMap:a,nativelyRenderedContent:null})}i!==t.getCurrentContent()&&e.set("treeMap",function(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),i=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==i.get(t)}).map(function(e){return He.generate(o,e,r)}))}(t,i.getBlockMap(),i.getEntityMap(),o)),e.merge(n)}))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return Lt(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return Lt(e,n)}(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return Bt(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),Bt(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return e.acceptSelection(t,new Qe({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=xt.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),s=t.getCurrentContent(),u=t.getUndoStack(),c=n;a!==s.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(t,r)?(u=u.push(s),c=c.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(c=c.set("selectionBefore",s.getSelectionBefore()));var l=t.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(l=null);var f={currentContent:c,directionMap:i,undoStack:u,redoStack:Kt(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:l};return e.set(t,f)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=xt.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=xt.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e}();function Bt(e,t,n){return It.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function Ft(e,t){return e.getBlockMap().map(function(n){return He.generate(e,n,t)}).toOrderedMap()}function Lt(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):Dt()}var Nt=It,Rt=y.OrderedMap,zt=y.List,Pt=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},Ut=function(e,t,n,r){"replace"===r&&l(!1);var o=n.getKey(),i=t.getKey();i===o&&l(!1);var a=e.getBlockMap(),s=t instanceof X,u=[t],c=a.delete(i);s&&(u=[],c=a.withMutations(function(e){var n=t.getNextSiblingKey(),r=we(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===i}).takeWhile(function(e){var t=e.getKey(),o=t===i,a=n&&t!==n,s=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||a||s)}).forEach(function(t){u.push(t),e.delete(t.getKey())})}));var f=c.toSeq().takeUntil(function(e){return e===n}),p=c.toSeq().skipUntil(function(e){return e===n}).skip(1),h=u.map(function(e){return[e.getKey(),e]}),d=Rt();if("before"===r){var g=e.getBlockBefore(o);g&&g.getKey()===t.getKey()&&l(!1),d=f.concat([].concat(h,[[o,n]]),p).toOrderedMap()}else if("after"===r){var y=e.getBlockAfter(o);y&&y.getKey()===i&&l(!1),d=f.concat([[o,n]].concat(h),p).toOrderedMap()}return e.merge({blockMap:function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),s=n.getKey(),u=t.getParentKey(),c=t.getNextSiblingKey(),l=t.getPrevSiblingKey(),f=n.getParentKey(),p=i?n.getNextSiblingKey():s,h=i?s:n.getPrevSiblingKey();return e.withMutations(function(e){Pt(u,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})}),Pt(l,e,function(e){return e.merge({nextSibling:c})}),Pt(c,e,function(e){return e.merge({prevSibling:l})}),Pt(p,e,function(e){return e.merge({prevSibling:a})}),Pt(h,e,function(e){return e.merge({nextSibling:a})}),Pt(f,e,function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:zt(o)})}),Pt(a,e,function(e){return e.merge({nextSibling:p,prevSibling:h,parent:f})})})}(d,t,n,r,s),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:i,focusKey:i})})},jt=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt=Y.draft_tree_data_support,Vt=qt?X:R,Ht=y.List,Wt=y.Repeat,Gt={insertAtomicBlock:function(e,t,n){var r=e.getCurrentContent(),o=e.getSelection(),i=Ne.removeRange(r,o,"backward"),a=i.getSelectionAfter(),s=Ne.splitBlock(i,a),u=s.getSelectionAfter(),c=Ne.setBlockType(s,u,"atomic"),l=x.create({entity:t}),f={key:ue(),type:"atomic",text:n,characterList:Ht(Wt(l,n.length))},p={key:ue(),type:"unstyled"};qt&&(f=jt({},f,{nextSibling:p.key}),p=jt({},p,{prevSibling:f.key}));var h=[new Vt(f),new Vt(p)],d=m.createFromArray(h),g=Ne.replaceWithFragment(c,u,d),y=g.merge({selectionBefore:o,selectionAfter:g.getSelectionAfter().set("hasFocus",!0)});return Nt.push(e,y,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o=e.getCurrentContent(),i=e.getSelection(),a=void 0;if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());a=Ut(o,t,s,r)}else{var u=Ne.removeRange(o,n,"backward"),c=u.getSelectionAfter(),l=u.getBlockForKey(c.getFocusKey());if(0===c.getStartOffset())a=Ut(u,t,l,"before");else if(c.getEndOffset()===l.getLength())a=Ut(u,t,l,"after");else{var f=Ne.splitBlock(u,c),p=f.getSelectionAfter(),h=f.getBlockForKey(p.getFocusKey());a=Ut(f,t,h,"before")}}var d=a.merge({selectionBefore:i,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return Nt.push(e,d,"move-block")}};var Jt=y.List;var Xt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._decorators=t.slice()}return e.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,o){var i=0;(0,r.strategy)(e,function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(function(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}(n,e,t,o+"."+i),i++)},t)}),Jt(n)},e.prototype.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},e.prototype.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();function Yt(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map($t).join(" "):Array.prototype.map.call(arguments,$t).join(" ")}function $t(e){return e.replace(/\//g,"-")}var Zt=Yt,Qt=(0,y.Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:o.createElement("ul",{className:Zt("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:o.createElement("ol",{className:Zt("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:o.createElement("pre",{className:Zt("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}}),en={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}},tn={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105};function nn(e,t){return t&&"MUTABLE"===e.__get(t).getMutability()?t:null}var rn=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:nn(e.getEntityMap(),n):null}var i=t.getStartKey(),a=t.getStartOffset(),s=e.getBlockForKey(i);return n=a===s.getLength()?null:s.getEntityAt(a),nn(e.getEntityMap(),n)};var on=function(e){return"handled"===e||!0===e};var an=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some(function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return o===t&&(i=!0,!0)})}),i},sn=!1,un=!1,cn="",ln={onBeforeInput:function(e,t){cn=(cn||"")+t.data},onCompositionStart:function(e){un=!0},onCompositionEnd:function(e){sn=!1,un=!1,setTimeout(function(){sn||ln.resolveComposition(e)},20)},onKeyDown:function(e,t){if(!un)return ln.resolveComposition(e),void e._onKeyDown(t);t.which!==tn.RIGHT&&t.which!==tn.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===tn.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!un){sn=!0;var t=cn;cn="";var n=Nt.set(e._latestEditorState,{inCompositionMode:!1}),r=n.getCurrentInlineStyle(),o=rn(n.getCurrentContent(),n.getSelection()),i=!t||an(n)||r.size>0||null!==o;if(i&&e.restoreEditorDOM(),e.exitCurrentMode(),t){if(Y.draft_handlebeforeinput_composed_text&&e.props.handleBeforeInput&&on(e.props.handleBeforeInput(t,n)))return;var a=Ne.replaceText(n.getCurrentContent(),n.getSelection(),t,r,o);e.update(Nt.push(n,a,"insert-characters"))}else i&&e.update(Nt.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}},fn=ln,pn="Unknown",hn={"Mac OS":"Mac OS X"};var dn,gn=(new(a(function(e,t){!function(n,r){var o="model",i="name",a="type",s="vendor",u="version",c="mobile",l="tablet",f={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},p={rgx:function(e,t){for(var n,r,o,i,a,s,u=0;u<t.length&&!a;){var c=t[u],l=t[u+1];for(n=r=0;n<c.length&&!a;)if(a=c[n++].exec(e))for(o=0;o<l.length;o++)s=a[++r],"object"==typeof(i=l[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;u+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(f.has(t[n][r],e))return"?"===n?void 0:n}else if(f.has(t[n],e))return"?"===n?void 0:n;return e}},h={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},d={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,u],[/(opios)[\/\s]+([\w\.]+)/i],[[i,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[i,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[i,u],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[i,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],u],[/(QQ)\/([\d\.]+)/i],[i,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[i,u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[i,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,u],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[i,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,i],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[i,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[u,p.str,h.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[i,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,s,[a,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[s,"Apple"],[a,l]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[s,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[s,o,[a,l]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[s,"Amazon"],[a,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,p.str,h.device.amazon.model],[s,"Amazon"],[a,c]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,s,[a,c]],[/\((ip[honed|\s\w*]+);/i],[o,[s,"Apple"],[a,c]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[s,o,[a,c]],[/\(bb10;\s(\w+)/i],[o,[s,"BlackBerry"],[a,c]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[s,"Asus"],[a,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[s,"Sony"],[o,"Xperia Tablet"],[a,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[o,[s,"Sony"],[a,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[s,o,[a,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[s,"Nvidia"],[a,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[s,"Sony"],[a,"console"]],[/(sprint\s(\w+))/i],[[s,p.str,h.device.sprint.vendor],[o,p.str,h.device.sprint.model],[a,c]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[s,o,[a,l]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[s,[o,/_/g," "],[a,c]],[/(nexus\s9)/i],[o,[s,"HTC"],[a,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[o,[s,"Huawei"],[a,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[s,o,[a,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[s,"Microsoft"],[a,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[s,"Microsoft"],[a,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[s,"Motorola"],[a,c]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[s,"Motorola"],[a,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s,f.trim],[o,f.trim],[a,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[s,"Samsung"],[a,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[s,"Sharp"],[a,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[s,"Samsung"],o,[a,l]],[/smart-tv.+(samsung)/i],[s,[a,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[s,"Samsung"],o,[a,c]],[/sie-(\w+)*/i],[o,[s,"Siemens"],[a,c]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[s,"Nokia"],o,[a,c]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[s,"Acer"],[a,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[o,[s,"LG"],[a,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[s,"LG"],o,[a,l]],[/(lg) netcast\.tv/i],[s,o,[a,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[o,[s,"LG"],[a,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[s,"Lenovo"],[a,l]],[/linux;.+((jolla));/i],[s,o,[a,c]],[/((pebble))app\/[\d\.]+\s/i],[s,o,[a,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[s,o,[a,c]],[/crkey/i],[[o,"Chromecast"],[s,"Google"]],[/android.+;\s(glass)\s\d/i],[o,[s,"Google"],[a,"wearable"]],[/android.+;\s(pixel c)\s/i],[o,[s,"Google"],[a,l]],[/android.+;\s(pixel xl|pixel)\s/i],[o,[s,"Google"],[a,c]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[o,/_/g," "],[s,"Xiaomi"],[a,c]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[o,/_/g," "],[s,"Xiaomi"],[a,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[o,[s,"Meizu"],[a,l]],[/android.+a000(1)\s+build/i],[o,[s,"OnePlus"],[a,c]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[o,[s,"RCA"],[a,l]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[o,[s,"Dell"],[a,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[o,[s,"Verizon"],[a,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[s,"Barnes & Noble"],o,[a,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[o,[s,"NuVision"],[a,l]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[s,"ZTE"],o,[a,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[o,[s,"Swiss"],[a,c]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[o,[s,"Swiss"],[a,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[o,[s,"Zeki"],[a,l]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[s,"Dragon Touch"],o,[a,l]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[o,[s,"Insignia"],[a,l]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[o,[s,"NextBook"],[a,l]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[s,"Voice"],o,[a,c]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[s,"LvTel"],o,[a,c]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[o,[s,"Envizen"],[a,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[s,o,[a,l]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[o,[s,"MachSpeed"],[a,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[s,o,[a,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[o,[s,"Rotor"],[a,l]],[/android.+(KS(.+))\s+build/i],[o,[s,"Amazon"],[a,l]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[s,o,[a,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,f.lowerize],s,o],[/(android.+)[;\/].+build/i],[o,[s,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[i,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,u],[/rv\:([\w\.]+).*(gecko)/i],[u,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[u,p.str,h.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[u,p.str,h.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[i,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[i,"Symbian"],u],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[i,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[i,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[i,u],[/(haiku)\s(\w+)/i],[i,u],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[i,u]]},g=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof g))return new g(e,t).getResult();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),o=t?f.extend(d,t):d;return this.getBrowser=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,r,o.browser),e.major=f.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return p.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return p.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};g.VERSION="0.7.17",g.BROWSER={NAME:i,MAJOR:"major",VERSION:u},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:o,VENDOR:s,TYPE:a,CONSOLE:"console",MOBILE:c,SMARTTV:"smarttv",TABLET:l,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:i,VERSION:u},g.OS={NAME:i,VERSION:u},e.exports&&(t=e.exports=g),t.UAParser=g;var y=n&&(n.jQuery||n.Zepto);if(void 0!==y){var v=new g;y.ua=v.getResult(),y.ua.get=function(){return v.getUA()},y.ua.set=function(e){v.setUA(e);var t=v.getResult();for(var n in t)y.ua[n]=t[n]}}}("object"==typeof window?window:i)}))).getResult(),yn=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(gn.browser.version),vn={browserArchitecture:gn.cpu.architecture||pn,browserFullVersion:gn.browser.version||pn,browserMinorVersion:yn.minor||pn,browserName:gn.browser.name||pn,browserVersion:gn.browser.major||pn,deviceName:gn.device.model||pn,engineName:gn.engine.name||pn,engineVersion:gn.engine.version||pn,platformArchitecture:gn.cpu.architecture||pn,platformName:(dn=gn.os.name,hn[dn]||dn||pn),platformVersion:gn.os.version||pn,platformFullVersion:gn.os.version||pn},mn=/\./,_n=/\|\|/,bn=/\s+\-\s+/,Sn=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,wn=/^(\d*)(.*)/;function En(e,t){var n=e.split(_n);return n.length>1?n.some(function(e){return Bn.contains(e,t)}):function(e,t){var n=e.split(bn);if(n.length>0&&n.length<=2||l(!1),1===n.length)return kn(n[0],t);var r=n[0],o=n[1];return Dn(r)&&Dn(o)||l(!1),kn(">="+r,t)&&kn("<="+o,t)}(e=n[0].trim(),t)}function kn(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(mn),o=xn(e),i=o.modifier,a=o.rangeComponents;switch(i){case"<":return Cn(r,a);case"<=":return-1===(n=In(r,a))||0===n;case">=":return On(r,a);case">":return function(e,t){return 1===In(e,t)}(r,a);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);Tn(i)&&(r[o]=i+1+"");return On(e,n)&&Cn(e,r)}(r,a);default:return function(e,t){return 0===In(e,t)}(r,a)}}function Cn(e,t){return-1===In(e,t)}function On(e,t){var n=In(e,t);return 1===n||0===n}function xn(e){var t=e.split(mn),n=t[0].match(Sn);return n||l(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function Tn(e){return!isNaN(e)&&isFinite(e)}function Dn(e){return!xn(e).modifier}function Mn(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function Kn(e,t){var n=e.match(wn)[1],r=t.match(wn)[1],o=parseInt(n,10),i=parseInt(r,10);return Tn(o)&&Tn(i)&&o!==i?An(o,i):An(e,t)}function An(e,t){return typeof e!=typeof t&&l(!1),e>t?1:e<t?-1:0}function In(e,t){for(var n=function(e,t){Mn(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return Mn(t,e.length),[e,t]}(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=Kn(r[i],o[i]);if(a)return a}return 0}var Bn={contains:function(e,t){return En(e.trim(),t.trim())}},Fn=Bn,Ln=Object.prototype.hasOwnProperty;function Nn(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,Fn.contains(o,t))}function Rn(e){return"Windows"===vn.platformName?e.replace(/^\s*NT/,""):e}var zn=function(e,t,n){if(!e)return null;var r={};for(var o in e)Ln.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}({isBrowser:function(e){return Nn(vn.browserName,vn.browserFullVersion,e)},isBrowserArchitecture:function(e){return Nn(vn.browserArchitecture,null,e)},isDevice:function(e){return Nn(vn.deviceName,null,e)},isEngine:function(e){return Nn(vn.engineName,vn.engineVersion,e)},isPlatform:function(e){return Nn(vn.platformName,vn.platformFullVersion,e,Rn)},isPlatformArchitecture:function(e){return Nn(vn.platformArchitecture,null,e)}},function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}});var Pn=zn.isBrowser("IE <= 11");var Un=Pn?o.createElement("span",{key:"A","data-text":"true"},"\n"):o.createElement("br",{key:"A","data-text":"true"}),jn=Pn?o.createElement("span",{key:"B","data-text":"true"},"\n"):o.createElement("br",{key:"B","data-text":"true"}),qn=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._forceFlag=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=n.findDOMNode(this),r=""===e.children;return t instanceof Element||l(!1),r?!function(e){return Pn?"\n"===e.textContent:"BR"===e.tagName}(t):t.textContent!==e.children},t.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},t.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},t.prototype.render=function(){return""===this.props.children?this._forceFlag?Un:jn:o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},t}(o.Component),Vn={logSelectionStateFailure:function(){return null}};var Hn=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))};var Wn=function(e){return Hn(e)&&3==e.nodeType};var Gn=function e(t,n){return!(!t||!n)&&(t===n||!Wn(t)&&(Wn(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))};var Jn=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}};function Xn(e,t){if(!e)return"[empty]";var n=function e(t,n){var r=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var o=t.textContent.length;return document.createTextNode("[text "+o+(r.length?" | "+r.join(", "):"")+"]")}var i=t.cloneNode();1===i.nodeType&&r.length&&i.setAttribute("data-labels",r.join(", "));var a=t.childNodes;for(var s=0;s<a.length;s++)i.appendChild(e(a[s],n));return i}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||l(!1),n.outerHTML)}function Yn(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return Xn(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function $n(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function Zn(e,t,n,r){var o=Jn();if(e.extend&&Gn(o,t)){n>$n(t)&&Vn.logSelectionStateFailure({anonymizedDom:Yn(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var i=t===e.focusNode;try{e.extend(t,n)}catch(a){throw Vn.logSelectionStateFailure({anonymizedDom:Yn(t,function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:i,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),a}}else{var a=e.getRangeAt(0);a.setEnd(t,n),e.addRange(a.cloneRange())}}function Qn(e,t,n,r){var o=document.createRange();n>$n(t)&&Vn.logSelectionStateFailure({anonymizedDom:Yn(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),o.setStart(t,n),e.addRange(o)}var er=function(e,t,n,r,o){if(Gn(document.documentElement,t)){var a=i.getSelection(),s=e.getAnchorKey(),u=e.getAnchorOffset(),c=e.getFocusKey(),l=e.getFocusOffset(),f=e.getIsBackward();if(!a.extend&&f){var p=s,h=u;s=c,u=l,c=p,l=h,f=!1}var d=s===n&&r<=u&&o>=u,g=c===n&&r<=l&&o>=l;if(d&&g)return a.removeAllRanges(),Qn(a,t,u-r,e),void Zn(a,t,l-r,e);if(f){if(g&&(a.removeAllRanges(),Qn(a,t,l-r,e)),d){var y=a.focusNode,v=a.focusOffset;a.removeAllRanges(),Qn(a,t,u-r,e),Zn(a,y,v,e)}}else d&&(a.removeAllRanges(),Qn(a,t,u-r,e)),g&&Zn(a,t,l-r,e)}};var tr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,r=t.block,o=t.start,i=t.text,a=r.getKey(),s=o+i.length;if(e.hasEdgeWithin(a,o,s)){var u=n.findDOMNode(this);u||l(!1);var c=u.firstChild;c||l(!1);var f=void 0;c.nodeType===Node.TEXT_NODE?f=c:"BR"===c.tagName?f=u:(f=c.firstChild)||l(!1),er(e,f,a,o,s)}}},t.prototype.shouldComponentUpdate=function(e){var t=n.findDOMNode(this.leaf);return t||l(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},t.prototype.componentDidUpdate=function(){this._setSelection()},t.prototype.componentDidMount=function(){this._setSelection()},t.prototype.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var r=this.props,i=r.customStyleMap,a=r.customStyleFn,s=r.offsetKey,u=r.styleSet,c=u.reduce(function(e,t){var n={},r=i[t];return void 0!==r&&e.textDecoration!==r.textDecoration&&(n.textDecoration=[e.textDecoration,r.textDecoration].join(" ").trim()),d(e,r,n)},{});if(a){var l=a(u,t);c=d(c,l)}return o.createElement("span",{"data-offset-key":s,ref:function(t){return e.leaf=t},style:c},o.createElement(qn,null,n))},t}(o.Component),nr={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-"),n=t[0],r=t[1],o=t[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}}};function rr(e,t){return!!t&&(e===t.documentElement||e===t.body)}var or={getTop:function(e){var t=e.ownerDocument;return rr(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;rr(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return rr(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;rr(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}},ir=/-(.)/g;var ar=function(e){return e.replace(ir,function(e,t){return t.toUpperCase()})},sr=/([A-Z])/g;var ur=function(e){return e.replace(sr,"-$1").toLowerCase()};function cr(e){return null==e?e:String(e)}function lr(e,t){var n=fr.get(e,t);return"auto"===n||"scroll"===n}var fr={get:function(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return cr(n.getPropertyValue(ur(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return cr(n.getPropertyValue(ur(t)));if("display"===t)return"none"}return e.currentStyle?cr("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[ar(t)]):cr(e.style&&e.style[ar(t)])},getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(lr(e,"overflow")||lr(e,"overflowY")||lr(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}},pr=fr;var hr=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e&&Gn(t,e)))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}};var dr=function(e){var t=hr(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}},gr="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;var yr=function(e){return(e=e||document).scrollingElement?e.scrollingElement:gr||"CSS1Compat"!==e.compatMode?e.body:e.documentElement};var vr=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}};var mr=function(e){var t=yr(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=vr(e),r=e===t?e.ownerDocument.documentElement:e,o=e.scrollWidth-r.clientWidth,i=e.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,o)),n.y=Math.max(0,Math.min(n.y,i)),n};function _r(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function br(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function Sr(){return{width:window.innerWidth||_r(),height:window.innerHeight||br()}}Sr.withoutScrollbars=function(){return{width:_r(),height:br()}};var wr=Sr,Er=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var kr=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},Cr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||kr(e.selection,e.block.getKey())&&e.forceSelection},t.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var r=n.findDOMNode(this),o=pr.getScrollParent(r),i=mr(o),a=void 0;if(o===window){var s=dr(r);(a=s.y+s.height-wr().height)>0&&window.scrollTo(i.x,i.y+a+10)}else{r instanceof HTMLElement||l(!1),(a=r.offsetHeight+r.offsetTop-(o.offsetHeight+i.y))>0&&or.setTop(o,or.getTop(o)+a+10)}}},t.prototype._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),i=this.props.tree.size-1,a=kr(this.props.selection,n);return this.props.tree.map(function(s,u){var c=s.get("leaves"),l=c.size-1,f=c.map(function(s,c){var f=nr.encode(n,u,c),p=s.get("start"),h=s.get("end");return o.createElement(tr,{key:f,offsetKey:f,block:t,start:p,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(p,h),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:u===i&&c===l})}).toArray(),p=s.get("decoratorKey");if(null==p)return f;if(!e.props.decorator)return f;var h=Ct(e.props.decorator),d=h.getComponentForKey(p);if(!d)return f;var g=h.getPropsForKey(p),y=nr.encode(n,u,0),v=r.slice(c.first().get("start"),c.last().get("end")),m=ht.getHTMLDirIfDifferent(wt.getDirection(v),e.props.direction);return o.createElement(d,Er({},g,{contentState:e.props.contentState,decoratedText:v,dir:m,key:y,entityKey:t.getEntityAt(s.get("start")),offsetKey:y}),f)}).toArray()},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.offsetKey,r=Zt({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return o.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},t}(o.Component);var Or=function(e){e||(e="");var t=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e},xr=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Tr=function(e,t,n,r){return Zt({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},Dr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||o&&i)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),u=t.getDecorator(),c=n.getDecorator();return o!==i||a!==s||u!==c||n.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,i=e.customStyleMap,a=e.customStyleFn,s=e.editorState,u=e.editorKey,c=e.textDirectionality,l=s.getCurrentContent(),f=s.getSelection(),p=s.mustForceSelection(),h=s.getDecorator(),d=Ct(s.getDirectionMap()),g=l.getBlocksAsArray(),y=[],v=null,m=null,_=0;_<g.length;_++){var b=g[_],S=b.getKey(),w=b.getType(),E=n(b),k=void 0,C=void 0,O=void 0;E&&(k=E.component,C=E.props,O=E.editable);var x=c||d.get(S),T=nr.encode(S,0,0),D={contentState:l,block:b,blockProps:C,blockStyleFn:r,customStyleMap:i,customStyleFn:a,decorator:h,direction:x,forceSelection:p,key:S,offsetKey:T,selection:f,tree:s.getBlockTree(S)},M=t.get(w)||t.get("unstyled"),K=M.wrapper,A=M.element||t.get("unstyled").element,I=b.getDepth(),B="";if(r&&(B=r(b)),"li"===A)B=Or(B,Tr(w,I,m!==K||null===v||I>v,x));var F=k||Cr,L={className:B,"data-block":!0,"data-editor":u,"data-offset-key":T,key:S};void 0!==O&&(L=xr({},L,{contentEditable:O,suppressContentEditableWarning:!0}));var N=o.createElement(A,L,o.createElement(F,D));y.push({block:N,wrapperTemplate:K,key:S,offsetKey:T}),v=K?b.getDepth():null,m=K}for(var R=[],z=0;z<y.length;){var P=y[z];if(P.wrapperTemplate){var U=[];do{U.push(y[z].block),z++}while(z<y.length&&y[z].wrapperTemplate===P.wrapperTemplate);var j=o.cloneElement(P.wrapperTemplate,{key:P.key+"-wrap","data-offset-key":P.offsetKey},U);R.push(j)}else R.push(P.block),z++}return o.createElement("div",{"data-contents":"true"},R)},t}(o.Component),Mr={isImage:function(e){return"image"===Kr(e)[0]},isJpeg:function(e){var t=Kr(e);return Mr.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function Kr(e){return e.split("/")}var Ar=Mr;var Ir=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&l(!1),"number"!=typeof t&&l(!1),0===t||t-1 in e||l(!1),"function"==typeof e.callee&&l(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}(e):[e]};var Br=new RegExp("\r\n","g"),Fr={"text/rtf":1,"text/html":1};function Lr(e){if("file"==e.kind)return e.getAsFile()}var Nr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.types=t.types?Ir(t.types):[]}return e.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return Fr[e]})},e.prototype.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(Br,"\n"):null},e.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},e.prototype.isLink=function(){return this.types.some(function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")})},e.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},e.prototype.isImage=function(){var e=this.types.some(function(e){return-1!=e.indexOf("application/x-moz-file")});if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var r=t[n].type;if(!Ar.isImage(r))return!1}return!0},e.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(Lr).filter(c.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.prototype.hasFiles=function(){return this.getFiles().length>0},e}();var Rr=function e(t){if(t instanceof Element){var n=t.getAttribute("data-offset-key");if(n)return n;for(var r=0;r<t.childNodes.length;r++){var o=e(t.childNodes[r]);if(o)return o}}return null};var zr=function(e){for(var t=e;t&&t!==document.documentElement;){var n=Rr(t);if(null!=n)return n;t=t.parentNode}return null},Pr=/\.textClipping$/,Ur={"text/plain":!0,"text/html":!0,"text/rtf":!0},jr=5e3;var qr=function(e,t){var n=0,r=[];e.forEach(function(o){!function(e,t){if(i.FileReader&&(!e.type||e.type in Ur)){if(""===e.type){var n="";return Pr.test(e.name)&&(n=e.name.replace(Pr,"")),void t(n)}var r=new FileReader;r.onload=function(){var e=r.result;"string"!=typeof e&&l(!1),t(e)},r.onerror=function(){t("")},r.readAsText(e)}else t("")}(o,function(o){n++,o&&r.push(o.slice(0,jr)),n==e.length&&t(r.join("\r"))})})};var Vr=function(e,t,n,r,o){var i=Ct(e.getSelection()),a=nr.decode(t),s=a.blockKey,u=e.getBlockTree(s).getIn([a.decoratorKey,"leaves",a.leafKey]),c=nr.decode(r),l=c.blockKey,f=e.getBlockTree(l).getIn([c.decoratorKey,"leaves",c.leafKey]),p=u.get("start"),h=f.get("start"),d=u?p+n:null,g=f?h+o:null;if(i.getAnchorKey()===s&&i.getAnchorOffset()===d&&i.getFocusKey()===l&&i.getFocusOffset()===g)return i;var y=!1;if(s===l){var v=u.get("end"),m=f.get("end");y=h===p&&m===v?o<n:h<p}else y=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===s||e===l}).first()===l;return i.merge({anchorKey:s,anchorOffset:d,focusKey:l,focusOffset:g,isBackward:y})};function Hr(e,t,n){var r=Ne.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return Nt.push(e,r,"insert-fragment")}var Wr={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new Nr(t.nativeEvent.dataTransfer),r=e._latestEditorState,o=function(e,t){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=Ct(n),r=Ct(r);var i=Ct(zr(n));return Vr(t,i,r,i,r)}(t.nativeEvent,r);if(t.preventDefault(),e.exitCurrentMode(),null!=o){var i=n.getFiles();if(i.length>0){if(e.props.handleDroppedFiles&&on(e.props.handleDroppedFiles(o,i)))return;qr(i,function(t){t&&e.update(Hr(r,o,t))})}else{var a=e._internalDrag?"internal":"external";e.props.handleDrop&&on(e.props.handleDrop(o,n,a))||(e._internalDrag?e.update(function(e,t){var n=Ne.moveText(e.getCurrentContent(),e.getSelection(),t);return Nt.push(e,n,"insert-fragment")}(r,o)):e.update(Hr(r,o,n.getText())))}}}};!function(e,t){if(!e.setImmediate){var n,r,o,i,a,s=1,u={},c=!1,l=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,n=function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(i="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(i+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return u[s]=o,n(s),s++},f.clearImmediate=p}function p(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var n=u[e];if(n){c=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{p(e),c=!1}}}}}("undefined"==typeof self?i:self);var Gr=i.setImmediate,Jr="'",Xr="/",Yr=zn.isBrowser("Firefox");function $r(e,t,n,r){var o=Ne.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return Nt.push(e,o,"insert-characters")}var Zr=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&on(e.props.handleBeforeInput(r,n)))t.preventDefault();else{var o=n.getSelection(),a=o.getStartOffset(),s=o.getEndOffset(),u=o.getAnchorKey();if(!o.isCollapsed())return t.preventDefault(),void(r===n.getCurrentContent().getPlainText().slice(a,s)?e.update(Nt.forceSelection(n,o.merge({focusOffset:s}))):e.update($r(n,r,n.getCurrentInlineStyle(),rn(n.getCurrentContent(),n.getSelection()))));var c,l=$r(n,r,n.getCurrentInlineStyle(),rn(n.getCurrentContent(),n.getSelection())),f=!1;if(f||(f=an(e._latestCommittedEditorState)),!f){var p=i.getSelection();if(p.anchorNode&&p.anchorNode.nodeType===Node.TEXT_NODE){var h=p.anchorNode.parentNode;f="SPAN"===h.nodeName&&h.firstChild.nodeType===Node.TEXT_NODE&&-1!==h.firstChild.nodeValue.indexOf("\t")}}if(f||(f=He.getFingerprint(n.getBlockTree(u))!==He.getFingerprint(l.getBlockTree(u))),f||(c=r,f=Yr&&(c==Jr||c==Xr)),f||(f=Ct(l.getDirectionMap()).get(u)!==Ct(n.getDirectionMap()).get(u)),f)return t.preventDefault(),void e.update(l);l=Nt.set(l,{nativelyRenderedContent:l.getCurrentContent()}),e._pendingStateFromBeforeInput=l,Gr(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}};var Qr=function(e,t){if(Jn()===document.body){var n=i.getSelection(),r=e.editor;1===n.rangeCount&&Gn(r,n.anchorNode)&&Gn(r,n.focusNode)&&n.removeAllRanges()}var o=e._latestEditorState,a=o.getSelection();if(a.getHasFocus()){var s=a.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(Nt.acceptSelection(o,s))}};var eo=function(e,t){e.setMode("composite"),e.update(Nt.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)};var to=function(e){var t=e.getSelection();return t.isCollapsed()?null:he(e.getCurrentContent(),t)};var no=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(to(e._latestEditorState))};var ro=function(e,t){var n=e._latestEditorState,r=n.getSelection(),o=t.target,i=void 0;if(r.isCollapsed())t.preventDefault();else{o instanceof Node&&(i=mr(pr.getScrollParent(o)));var a=to(n);e.setClipboard(a),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(i),e.exitCurrentMode(),e.update(function(e){var t=Ne.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return Nt.push(e,t,"remove-range")}(n))},0)}};var oo=function(e,t){e._internalDrag=!1,e.setMode("drag"),t.preventDefault()};var io=function(e){e._internalDrag=!0,e.setMode("drag")};var ao=function(e,t){var n=e._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var o=r.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),zn.isBrowser("Chrome < 60.0.3081.0")?e.update(Nt.forceSelection(n,o)):e.update(Nt.acceptSelection(n,o))}},so=zn.isEngine("Gecko"),uo="\n\n";var co=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=i.getSelection(),n=t.anchorNode,r=t.isCollapsed,o=n.nodeType!==Node.TEXT_NODE,a=n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.ELEMENT_NODE;if(Y.draft_killswitch_allow_nontextnodes){if(o)return}else if(a)return;if(n.nodeType===Node.TEXT_NODE&&(null!==n.previousSibling||null!==n.nextSibling)){var s=n.parentNode;n.nodeValue=s.textContent;for(var u=s.firstChild;null!==u;u=u.nextSibling)u!==n&&s.removeChild(u)}var c=n.textContent,l=e._latestEditorState,f=Ct(zr(n)),p=nr.decode(f),h=p.blockKey,d=p.decoratorKey,g=p.leafKey,y=l.getBlockTree(h).getIn([d,"leaves",g]),v=y.start,m=y.end,_=l.getCurrentContent(),b=_.getBlockForKey(h),S=b.getText().slice(v,m);if(c.endsWith(uo)&&(c=c.slice(0,-1)),c!==S){var w,E,k,C,O=l.getSelection(),x=O.merge({anchorOffset:v,focusOffset:m,isBackward:!1}),T=b.getEntityAt(v),D=T&&_.getEntity(T),M="MUTABLE"===(D&&D.getMutability()),K=M?"spellcheck-change":"apply-entity",A=Ne.replaceText(_,x,c,b.getInlineStyleAt(v),M?b.getEntityAt(v):null);if(so)w=t.anchorOffset,E=t.focusOffset,C=(k=v+Math.min(w,E))+Math.abs(w-E),w=k,E=C;else{var I=c.length-S.length;k=O.getStartOffset(),C=O.getEndOffset(),w=r?C+I:k,E=C+I}var B=A.merge({selectionBefore:_.getSelectionAfter(),selectionAfter:O.merge({anchorOffset:w,focusOffset:E})});e.update(Nt.push(l,B,K))}},lo=zn.isPlatform("Mac OS X"),fo={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return lo&&e.altKey},hasCommandModifier:function(e){return lo?!!e.metaKey&&!e.altKey:fo.isCtrlKeyCommand(e)}},po=fo,ho=null,go={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),r=null;if(n.isCollapsed()){var o=n.getAnchorKey(),i=t.getBlockForKey(o).getLength();if(i===n.getAnchorOffset())return e;r=n.set("focusOffset",i)}else r=n;r=Ct(r),ho=he(t,r);var a=Ne.removeRange(t,r,"forward");return a===t?e:Nt.push(e,a,"remove-range")},paste:function(e){if(!ho)return e;var t=Ne.replaceWithFragment(e.getCurrentContent(),e.getSelection(),ho);return Nt.push(e,t,"insert-fragment")}},yo=55296,vo=56319,mo=56320,_o=57343,bo=/[\uD800-\uDFFF]/;function So(e){return yo<=e&&e<=_o}function wo(e){return bo.test(e)}function Eo(e,t){return 1+So(e.charCodeAt(t))}function ko(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!wo(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=Eo(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=Eo(e,o-1);o<0&&(o=0)}var i=r;if(n<r)for(i=o;n>0&&i<r;n--)i+=Eo(e,i);return e.substring(o,i)}var Co={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=Eo(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:Eo,hasSurrogateUnit:wo,isCodeUnitInSurrogateRange:So,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||l(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return yo<=n&&n<=vo&&mo<=r&&r<=_o},strlen:function(e){if(!wo(e))return e.length;for(var t=0,n=0;n<e.length;n+=Eo(e,n))t++;return t},substring:function(e,t,n){t=t||0,n=void 0===n?1/0:n||0,t<0&&(t=0),n<0&&(n=0);var r=Math.abs(n-t);return ko(e,t=t<n?t:n,r)},substr:ko};var Oo=zn.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var i,a=Array.from(t.getClientRects());if(n.push(a),o)return n.reverse(),(i=[]).concat.apply(i,n);t.setEndBefore(r)}l(!1)}:function(e){return Array.from(e.getClientRects())};function xo(e,t){for(var n=1/0,r=1/0,o=-1/0,i=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<t&&i-r<t}function To(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}var Do=function(e){e.collapsed||l(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||l(!1),r.appendChild(n);var o=n.getBoundingClientRect();return r.removeChild(n),o.height}(t),r=e.endContainer,o=e.endOffset;for(e.setStart(e.startContainer,0);xo(Oo(e),n)&&(r=e.startContainer,o=e.startOffset,r.parentNode||l(!1),e.setStartBefore(r),1!==r.nodeType||"inline"===getComputedStyle(r).display););for(var i=r,a=o-1;;){for(var s=i.nodeValue,u=a;u>=0;u--)if(!(null!=s&&u>0&&Co.isSurrogatePair(s,u-1))){if(e.setStart(i,u),!xo(Oo(e),n))break;r=i,o=u}if(-1===u||0===i.childNodes.length)break;a=To(i=i.childNodes[u])}return e.setStart(r,o),e};function Mo(e,t,n){var r=t,o=zr(r);if(null!=o||e&&(e===r||e.firstChild===r)||l(!1),e===r&&((r=r.firstChild)instanceof Element&&"true"===r.getAttribute("data-contents")||l(!1),n>0&&(n=r.childNodes.length)),0===n){var i=null;if(null!=o)i=o;else{var a=function(e){for(;e.firstChild&&(e.firstChild instanceof Element&&"true"===e.firstChild.getAttribute("data-blocks")||Rr(e.firstChild));)e=e.firstChild;return e}(r);i=Ct(Rr(a))}return{key:i,offset:0}}var s=r.childNodes[n-1],u=null,c=null;if(Rr(s)){var f=function(e){for(;e.lastChild&&(e.lastChild instanceof Element&&"true"===e.lastChild.getAttribute("data-blocks")||Rr(e.lastChild));)e=e.lastChild;return e}(s);u=Ct(Rr(f)),c=Ko(f)}else u=Ct(o),c=Ko(s);return{key:u,offset:c}}function Ko(e){var t=e.textContent;return"\n"===t?0:t.length}var Ao=function(e,t,n,r,o,i){var a=n.nodeType===Node.TEXT_NODE,s=o.nodeType===Node.TEXT_NODE;if(a&&s)return{selectionState:Vr(e,Ct(zr(n)),r,Ct(zr(o)),i),needsRecovery:!1};var u=null,c=null,l=!0;return a?(u={key:Ct(zr(n)),offset:r},c=Mo(t,o,i)):s?(c={key:Ct(zr(o)),offset:i},u=Mo(t,n,r)):(u=Mo(t,n,r),c=Mo(t,o,i),n===o&&r===i&&(l=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:Vr(e,u.key,u.offset,c.key,c.offset),needsRecovery:l}};var Io=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(t>i){var u=r.getKeyBefore(o);null==u?a=o:(a=u,s=r.getBlockForKey(u).getText().length)}else s=i-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})};var Bo=function(e,t,n){var r=e.getSelection(),o=e.getCurrentContent(),i=r;if(r.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return o}else if(e.isSelectionAtStartOfContent())return o;if((i=t(e))===r)return o}return Ne.removeRange(o,i,n)};var Fo=function(e){var t=Bo(e,function(e){var t=e.getSelection();if(t.isCollapsed()&&0===t.getAnchorOffset())return Io(e,1);var n=i.getSelection().getRangeAt(0);return n=Do(n),Ao(e,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState},"backward");return t===e.getCurrentContent()?e:Nt.push(e,t,"remove-range")},Lo="\\s|(?![_])"+function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;-----------]"}(),No=new RegExp("^(?:"+Lo+")*(?:[']|(?!"+Lo+").)*(?:(?!"+Lo+").)"),Ro=new RegExp("(?:(?!"+Lo+").)(?:[']|(?!"+Lo+").)*(?:"+Lo+")*$");function zo(e,t){var n=t?Ro.exec(e):No.exec(e);return n?n[0]:e}var Po={getBackward:function(e){return zo(e,!0)},getForward:function(e){return zo(e,!1)}};var Uo=function(e){var t=Bo(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return Io(e,1);var r=t.getStartKey(),o=e.getCurrentContent().getBlockForKey(r).getText().slice(0,n),i=Po.getBackward(o);return Io(e,i.length||1)},"backward");return t===e.getCurrentContent()?e:Nt.push(e,t,"remove-range")};var jo=function(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),s=o;return t>a.getBlockForKey(o).getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:s,focusOffset:n})};var qo=function(e){var t=Bo(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),r=t.getStartKey(),o=e.getCurrentContent().getBlockForKey(r).getText().slice(n),i=Po.getForward(o);return jo(e,i.length||1)},"forward");return t===e.getCurrentContent()?e:Nt.push(e,t,"remove-range")};var Vo=function(e){var t=Ne.splitBlock(e.getCurrentContent(),e.getSelection());return Nt.push(e,t,"split-block")};var Ho=function(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent().getBlockForKey(n).getLength();return Nt.set(e,{selection:t.merge({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r,isBackward:!1}),forceSelection:!0})};var Wo=function(e){var t=e.getSelection(),n=t.getStartKey();return Nt.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})};var Go=function(e){var t=Bo(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),i=n.getBlockForKey(r).getText()[o-1];return Io(e,i?Co.getUTF16Length(i,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return Nt.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")};var Jo=function(e){var t=Bo(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),i=n.getBlockForKey(r).getText()[o];return jo(e,i?Co.getUTF16Length(i,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return Nt.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")};var Xo=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var r,o,i=t.getAnchorKey(),a=e.getCurrentContent(),s=a.getBlockForKey(i).getLength();if(s<=1)return e;n===s?(r=t.set("anchorOffset",n-1),o=t):o=(r=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var u=he(a,r),c=Ne.removeRange(a,r,"backward"),l=c.getSelectionAfter(),f=l.getAnchorOffset()-1,p=l.merge({anchorOffset:f,focusOffset:f}),h=Ne.replaceWithFragment(c,p,u),d=Nt.push(e,h,"insert-fragment");return Nt.acceptSelection(d,o)};var Yo=function(e,t,n){var r=Nt.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(Nt.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)):n(r);else{var o=r.getCurrentContent();n(Nt.set(r,{nativelyRenderedContent:o}))}},$o=po.isOptionKeyCommand,Zo=zn.isBrowser("Chrome");var Qo=function(e,t){var n=t.which,r=e._latestEditorState;switch(n){case tn.RETURN:if(t.preventDefault(),e.props.handleReturn&&on(e.props.handleReturn(t,r)))return;break;case tn.ESC:return t.preventDefault(),void(e.props.onEscape&&e.props.onEscape(t));case tn.TAB:return void(e.props.onTab&&e.props.onTab(t));case tn.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(t));case tn.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(t));case tn.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(t));case tn.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(t));case tn.SPACE:if(Zo&&$o(t)){t.preventDefault();var o=Ne.replaceText(r.getCurrentContent(),r.getSelection(),"");return void e.update(Nt.push(r,o,"insert-characters"))}}var i=e.props.keyBindingFn(t);if(i)if("undo"!==i){if(t.preventDefault(),!e.props.handleKeyCommand||!on(e.props.handleKeyCommand(i,r))){var a=function(e,t){switch(e){case"redo":return Nt.redo(t);case"delete":return Jo(t);case"delete-word":return qo(t);case"backspace":return Go(t);case"backspace-word":return Uo(t);case"backspace-to-start-of-line":return Fo(t);case"split-block":return Vo(t);case"transpose-characters":return Xo(t);case"move-selection-to-start-of-block":return Wo(t);case"move-selection-to-end-of-block":return Ho(t);case"secondary-cut":return go.cut(t);case"secondary-paste":return go.paste(t);default:return t}}(i,r);a!==r&&e.update(a)}}else Yo(t,r,e.update)};var ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uri=t}return e.prototype.toString=function(){return this._uri},e}(),ti=zn.isBrowser("IE <= 9");var ni,ri=function(e){var t,n=null;return!ti&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||l(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n},oi=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai=y.Set,si=Y.draft_tree_data_support,ui=y.List,ci=y.OrderedSet,li=new RegExp("\r","g"),fi=new RegExp("\n","g"),pi=new RegExp("&nbsp;","g"),hi=new RegExp("&#13;?","g"),di=new RegExp("&#8203;?","g"),gi=["bold","bolder","500","600","700","800","900"],yi=["light","lighter","100","200","300","400"],vi={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},mi=(ii(ni={},Yt("public/DraftStyleDefault/depth0"),0),ii(ni,Yt("public/DraftStyleDefault/depth1"),1),ii(ni,Yt("public/DraftStyleDefault/depth2"),2),ii(ni,Yt("public/DraftStyleDefault/depth3"),3),ii(ni,Yt("public/DraftStyleDefault/depth4"),4),ni),_i=["className","href","rel","target","title"],bi=["alt","className","height","src","width"],Si=void 0,wi={text:"",inlines:[],entities:[],blocks:[]},Ei={children:ui(),depth:0,key:"",type:""},ki=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null},Ci=function(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}return null}(e,t,[ki])||"unstyled"}},Oi=function(e,t,n){var r=e.text.slice(-1),o=t.text.slice(0,1);if("\r"!==r||"\r"!==o||n||(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===r){if(" "===t.text||"\n"===t.text)return e;" "!==o&&"\n"!==o||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},xi=function(e){e instanceof HTMLAnchorElement||l(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t},Ti=function(){return oi({},wi,{text:"\n",inlines:[ci()],entities:new Array(1)})},Di=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[ci()],entities:new Array(1),blocks:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oi({},Ei,e)}({parent:n,key:ue(),type:e,depth:Math.max(0,Math.min(4,t))})]}},Mi=function e(t,n,r,o,i,a,s,u,c,l){var f=Si,p=n.nodeName.toLowerCase(),h=t,d="unstyled",g=!1,y=i&&Ci(i,o,u),v=oi({},wi),m=void 0;if("#text"===p){var _=n.textContent,b=_.trim();if(o&&""===b&&n.parentElement){var S=n.parentElement.nodeName.toLowerCase();if("ol"===S||"ul"===S)return{chunk:oi({},wi),entityMap:t}}return""===b&&"pre"!==i?{chunk:function(e){var t=new Array(1);return e&&(t[0]=e),oi({},wi,{text:" ",inlines:[ci()],entities:t})}(c),entityMap:t}:("pre"!==i&&(_=_.replace(fi," ")),Si=p,{chunk:{text:_,inlines:Array(_.length).fill(r),entities:Array(_.length).fill(c),blocks:[]},entityMap:t})}if(Si=p,"br"===p)return"br"!==f||i&&"unstyled"!==y?{chunk:Ti(),entityMap:t}:{chunk:Di("unstyled",s,l),entityMap:t};if("img"===p&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var w=n,E={};bi.forEach(function(e){var t=w.getAttribute(e);t&&(E[e]=t)}),n.textContent="",c=Ze.__create("IMAGE","MUTABLE",E||{})}r=function(e,t,n){var r=vi[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var o=t;n=n.withMutations(function(e){var t=o.style.fontWeight,n=o.style.fontStyle,r=o.style.textDecoration;gi.indexOf(t)>=0?e.add("BOLD"):yi.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}return n}(p,n,r),"ul"!==p&&"ol"!==p||(o&&(s+=1),o=p),!si&&"li"===p&&n instanceof HTMLElement&&(s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(mi).some(function(n){e.classList.contains(n)&&(t=mi[n])}),t}(n,s));var k=Ci(p,o,u),C=o&&"li"===i&&"li"===p,O=(!i||si)&&-1!==a.indexOf(p);(C||O)&&(m=(v=Di(k,s,l)).blocks[0].key,i=p,g=!si),C&&(d="ul"===o?"unordered-list-item":"ordered-list-item");var x=n.firstChild;null!=x&&(p=x.nodeName.toLowerCase());for(var T=null;x;){x instanceof HTMLAnchorElement&&x.href&&xi(x)?function(){var e=x,t={};_i.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new ei(e.href).toString(),T=Ze.__create("LINK","MUTABLE",t||{})}():T=void 0;var D=e(h,x,r,o,i,a,s,u,T||c,si?m:null),M=D.chunk;h=D.entityMap,v=Oi(v,M,si);var K=x.nextSibling;!l&&K&&a.indexOf(p)>=0&&i&&(v=Oi(v,Ti())),K&&(p=K.nodeName.toLowerCase()),x=K}return g&&(v=Oi(v,Di(d,s,l))),{chunk:v,entityMap:h}},Ki=function(e,t,n,r){e=e.trim().replace(li,"").replace(pi," ").replace(hi,"").replace(di,"");var o=function(e){var t=e.get("unstyled").element,n=ai([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}(n),i=t(e);if(!i)return null;Si=null;var a=function(e,t){return t.some(function(t){return-1!==e.indexOf("<"+t)})}(e,o)?o:["div"],s=Mi(r,i,ci(),"ul",null,a,-1,n),u=s.chunk,c=s.entityMap;return 0===u.text.indexOf("\r")&&(u={text:u.text.slice(1),inlines:u.inlines.slice(1),entities:u.entities.slice(1),blocks:u.blocks}),"\r"===u.text.slice(-1)&&(u.text=u.text.slice(0,-1),u.inlines=u.inlines.slice(0,-1),u.entities=u.entities.slice(0,-1),u.blocks.pop()),0===u.blocks.length&&u.blocks.push(oi({},wi,{type:"unstyled",depth:0})),u.text.split("\r").length===u.blocks.length+1&&u.blocks.unshift({type:"unstyled",depth:0}),{chunk:u,entityMap:c}},Ai=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt,r=Ki(e,t,n,Ze);if(null==r)return null;var o=r.chunk,i=r.entityMap;return{contentBlocks:function(e){if(!e||!e.text||!Array.isArray(e.blocks))return null;var t=0,n=e.blocks,r=e.inlines,o=e.entities,i=si?X:R;return e.text.split("\r").reduce(function(e,a,s){a=tt(a);var u=n[s],c=t+a.length,l=r.slice(t,c),f=o.slice(t,c),p=ui(l.map(function(e,t){var n={style:e,entity:null};return f[t]&&(n.entity=f[t]),x.create(n)}));t=c+1;var h=u.depth,d=u.type,g=u.parent,y=u.key||ue(),v=null;if(g){var m=e.cacheRef[g],_=e.contentBlocks[m];if(_.getChildKeys().isEmpty()&&_.getText()){var b=_.getCharacterList(),S=_.getText();v=ue();var w=new X({key:v,text:S,characterList:b,parent:g,nextSibling:y});e.contentBlocks.push(w),_=_.withMutations(function(e){e.set("characterList",ui()).set("text","").set("children",_.children.push(w.getKey()))})}e.contentBlocks[m]=_.set("children",_.children.push(y))}var E=new i({key:y,parent:g,type:d,depth:h,text:a,characterList:p,prevSibling:v||(0===s||n[s-1].parent!==g?null:n[s-1].key),nextSibling:s===n.length-1||n[s+1].parent!==g?null:n[s+1].key});return e.contentBlocks.push(E),e.cacheRef[E.key]=s,e},{cacheRef:{},contentBlocks:[]}).contentBlocks}(o),entityMap:i}},Ii=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi=y.List,Fi=y.Repeat,Li=Y.draft_tree_data_support,Ni=Li?X:R,Ri={processHTML:function(e,t){return Ai(e,ri,t)},processText:function(e,t,n){return e.reduce(function(e,r,o){r=tt(r);var i=ue(),a={key:i,type:n,text:r,characterList:Bi(Fi(t,r.length))};if(Li&&0!==o){var s=o-1,u=e[s]=e[s].merge({nextSibling:i});a=Ii({},a,{prevSibling:u.getKey()})}return e.push(new Ni(a)),e},[])}};var zi=function(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===i}).concat([[i,a.get(i)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})},Pi={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return Pi.toggleInlineStyle(e,"BOLD");case"italic":return Pi.toggleInlineStyle(e,"ITALIC");case"underline":return Pi.toggleInlineStyle(e,"UNDERLINE");case"code":return Pi.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return Pi.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return Pi.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=Ne.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=Nt.push(e,t,"insert-characters");return Nt.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var i=n.getBlockMap().delete(o.getKey()),a=n.merge({blockMap:i,selectionAfter:t});if(a!==n)return Nt.push(e,a,"remove-range")}var s=Pi.tryToRemoveBlockStyle(e);return s?Nt.push(e,s,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockForKey(r).getLength();if(t.getStartOffset()<o)return null;var i=n.getBlockAfter(r);if(!i||"atomic"!==i.getType())return null;var a=t.merge({focusKey:i.getKey(),focusOffset:i.getLength()}),s=Ne.removeRange(n,a,"forward");return s!==n?Nt.push(e,s,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),o=r.getAnchorKey();if(o!==r.getFocusKey())return t;var i=t.getCurrentContent(),a=i.getBlockForKey(o),s=a.getType();if("unordered-list-item"!==s&&"ordered-list-item"!==s)return t;e.preventDefault();var u=i.getBlockBefore(o);if(!u)return t;var c=u.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return t;var l=a.getDepth();if(!e.shiftKey&&l===n)return t;n=Math.min(u.getDepth()+1,n);var f=zi(i,r,e.shiftKey?-1:1,n);return Nt.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),r=n.getStartKey(),o=n.getEndKey(),i=e.getCurrentContent(),a=n;if(r!==o&&0===n.getEndOffset()){var s=Ct(i.getBlockBefore(o));o=s.getKey(),a=a.merge({anchorKey:r,anchorOffset:n.getStartOffset(),focusKey:o,focusOffset:s.getLength(),isBackward:!1})}if(i.getBlockMap().skipWhile(function(e,t){return t!==r}).reverse().skipWhile(function(e,t){return t!==o}).some(function(e){return"atomic"===e.getType()}))return e;var u=i.getBlockForKey(r).getType()===t?"unstyled":t;return Nt.push(e,Ne.setBlockType(i,a,u),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?Pi.toggleBlockType(e,"code-block"):Pi.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),r=e.getCurrentInlineStyle();if(n.isCollapsed())return Nt.setInlineStyleOverride(e,r.has(t)?r.remove(t):r.add(t));var o,i=e.getCurrentContent();return o=r.has(t)?Ne.removeInlineStyle(i,n,t):Ne.applyInlineStyle(i,n,t),Nt.push(e,o,"change-inline-style")},toggleLink:function(e,t,n){var r=Ne.applyEntity(e.getCurrentContent(),t,n);return Nt.push(e,r,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var r=t.getAnchorKey(),o=e.getCurrentContent(),i=o.getBlockForKey(r),a=o.getFirstBlock();if(i.getLength()>0&&i!==a)return null;var s=i.getType(),u=o.getBlockBefore(r);if("code-block"===s&&u&&"code-block"===u.getType()&&0!==u.getLength())return null;if("unstyled"!==s)return Ne.setBlockType(o,t,"unstyled")}return null}},Ui=Pi,ji=/\r\n?|\n/g;var qi=function(e){return e.split(ji)};function Vi(e,t,n){var r=Ne.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return Nt.push(e,r.set("entityMap",n),"insert-fragment")}var Hi=function(e,t){var n=i.getSelection();return 0===n.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:Ao(e,t,n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)};var Wi={onBeforeInput:Zr,onBlur:Qr,onCompositionStart:eo,onCopy:no,onCut:ro,onDragOver:oo,onDragStart:io,onFocus:ao,onInput:co,onKeyDown:Qo,onPaste:function(e,t){t.preventDefault();var n=new Nr(t.clipboardData);if(!n.isRichText()){var r=n.getFiles(),o=n.getText();if(r.length>0){if(e.props.handlePastedFiles&&on(e.props.handlePastedFiles(r)))return;return void qr(r,function(t){if(t=t||o){var n=e._latestEditorState,r=qi(t),i=x.create({style:n.getCurrentInlineStyle(),entity:rn(n.getCurrentContent(),n.getSelection())}),a=Ui.getCurrentBlockType(n),s=Ri.processText(r,i,a),u=m.createFromArray(s),c=Ne.replaceWithFragment(n.getCurrentContent(),n.getSelection(),u);e.update(Nt.push(n,c,"insert-fragment"))}})}}var i=[],a=n.getText(),s=n.getHTML(),u=e._latestEditorState;if(!e.props.handlePastedText||!on(e.props.handlePastedText(a,s,u))){if(a&&(i=qi(a)),!e.props.stripPastedStyles){var c=e.getClipboard();if(n.isRichText()&&c){if(-1!==s.indexOf(e.getEditorKey())||1===i.length&&1===c.size&&c.first().getText()===a)return void e.update(Vi(e._latestEditorState,c))}else if(c&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}(i,c))return void e.update(Vi(e._latestEditorState,c));if(s){var l=Ri.processHTML(s,e.props.blockRenderMap);if(l){var f=l.contentBlocks,p=l.entityMap;if(f){var h=m.createFromArray(f);return void e.update(Vi(e._latestEditorState,h,p))}}}e.setClipboard(null)}if(i.length){var d=x.create({style:u.getCurrentInlineStyle(),entity:rn(u.getCurrentContent(),u.getSelection())}),g=Ui.getCurrentBlockType(u),y=Ri.processText(i,d,g),v=m.createFromArray(y);e.update(Vi(e._latestEditorState,v))}}},onSelect:function(e){if(!e._blockSelectEvents&&e._latestEditorState===e.props.editorState){var t=e.props.editorState,r=n.findDOMNode(e.editorContainer);r||l(!1),r.firstChild instanceof HTMLElement||l(!1);var o=Hi(t,r.firstChild),i=o.selectionState;i!==t.getSelection()&&(t=o.needsRecovery?Nt.forceSelection(t,i):Nt.acceptSelection(t,i),e.update(t))}}};var Gi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},t.prototype.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=Zt({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return o.createElement("div",{className:t},o.createElement("div",{className:Zt("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},t}(o.Component),Ji=zn.isPlatform("Mac OS X"),Xi=zn.isPlatform("Windows"),Yi=Ji&&zn.isBrowser("Firefox < 29"),$i=po.hasCommandModifier,Zi=po.isCtrlKeyCommand;function Qi(e){return Ji&&e.altKey||Zi(e)}var ea=function(e){switch(e.keyCode){case 66:return $i(e)?"bold":null;case 68:return Zi(e)?"delete":null;case 72:return Zi(e)?"backspace":null;case 73:return $i(e)?"italic":null;case 74:return $i(e)?"code":null;case 75:return!Xi&&Zi(e)?"secondary-cut":null;case 77:case 79:return Zi(e)?"split-block":null;case 84:return Ji&&Zi(e)?"transpose-characters":null;case 85:return $i(e)?"underline":null;case 87:return Ji&&Zi(e)?"backspace-word":null;case 89:return Zi(e)?Xi?"redo":"secondary-paste":null;case 90:return function(e){return $i(e)?e.shiftKey?"redo":"undo":null}(e)||null;case tn.RETURN:return"split-block";case tn.DELETE:return function(e){return Xi&&e.shiftKey?null:Qi(e)?"delete-word":"delete"}(e);case tn.BACKSPACE:return function(e){return $i(e)&&Ji?"backspace-to-start-of-line":Qi(e)?"backspace-word":"backspace"}(e);case tn.LEFT:return Yi&&$i(e)?"move-selection-to-start-of-block":null;case tn.RIGHT:return Yi&&$i(e)?"move-selection-to-end-of-block":null;default:return null}},ta=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var na=zn.isBrowser("IE"),ra=!na,oa={edit:Wi,composite:fn,drag:Wr,cut:null,render:null},ia=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return o.focus=function(e){var t=o.props.editorState,r=t.getSelection().getHasFocus(),i=n.findDOMNode(o.editor);if(i){var a=pr.getScrollParent(i),s=e||mr(a),u=s.x,c=s.y;i instanceof HTMLElement||l(!1),i.focus(),a===window?window.scrollTo(u,c):or.setTop(a,c),r||o.update(Nt.forceSelection(t,t.getSelection()))}},o.blur=function(){var e=n.findDOMNode(o.editor);e instanceof HTMLElement||l(!1),e.blur()},o.setMode=function(e){o._handler=oa[e]},o.exitCurrentMode=function(){o.setMode("edit")},o.restoreEditorDOM=function(e){o.setState({contentsKey:o.state.contentsKey+1},function(){o.focus(e)})},o.setClipboard=function(e){o._clipboard=e},o.getClipboard=function(){return o._clipboard},o.update=function(e){o._latestEditorState=e,o.props.onChange(e)},o.onDragEnter=function(){o._dragCount++},o.onDragLeave=function(){o._dragCount--,0===o._dragCount&&o.exitCurrentMode()},o._blockSelectEvents=!1,o._clipboard=null,o._handler=null,o._dragCount=0,o._editorKey=r.editorKey||ue(),o._placeholderAccessibilityID="placeholder-"+o._editorKey,o._latestEditorState=r.editorState,o._latestCommittedEditorState=r.editorState,o._onBeforeInput=o._buildHandler("onBeforeInput"),o._onBlur=o._buildHandler("onBlur"),o._onCharacterData=o._buildHandler("onCharacterData"),o._onCompositionEnd=o._buildHandler("onCompositionEnd"),o._onCompositionStart=o._buildHandler("onCompositionStart"),o._onCopy=o._buildHandler("onCopy"),o._onCut=o._buildHandler("onCut"),o._onDragEnd=o._buildHandler("onDragEnd"),o._onDragOver=o._buildHandler("onDragOver"),o._onDragStart=o._buildHandler("onDragStart"),o._onDrop=o._buildHandler("onDrop"),o._onInput=o._buildHandler("onInput"),o._onFocus=o._buildHandler("onFocus"),o._onKeyDown=o._buildHandler("onKeyDown"),o._onKeyPress=o._buildHandler("onKeyPress"),o._onKeyUp=o._buildHandler("onKeyUp"),o._onMouseDown=o._buildHandler("onMouseDown"),o._onMouseUp=o._buildHandler("onMouseUp"),o._onPaste=o._buildHandler("onPaste"),o._onSelect=o._buildHandler("onSelect"),o.getEditorKey=function(){return o._editorKey},o.state={contentsKey:0},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&r(t,n)}}},t.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},t.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:Ct(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return o.createElement(Gi,e)}return null},t.prototype.render=function(){var e=this,t=this.props,n=t.blockRenderMap,r=t.blockRendererFn,i=t.blockStyleFn,a=t.customStyleFn,s=t.customStyleMap,u=t.editorState,c=t.readOnly,l=t.textAlignment,f=t.textDirectionality,p=Zt({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===l,"DraftEditor/alignRight":"right"===l,"DraftEditor/alignCenter":"center"===l}),h=this.props.role||"textbox",d="combobox"===h?!!this.props.ariaExpanded:null,g={blockRenderMap:n,blockRendererFn:r,blockStyleFn:i,customStyleMap:ta({},en,s),customStyleFn:a,editorKey:this._editorKey,editorState:u,key:"contents"+this.state.contentsKey,textDirectionality:f};return o.createElement("div",{className:p},this._renderPlaceholder(),o.createElement("div",{className:Zt("DraftEditor/editorContainer"),ref:function(t){return e.editorContainer=t}},o.createElement("div",{"aria-activedescendant":c?null:this.props.ariaActiveDescendantID,"aria-autocomplete":c?null:this.props.ariaAutoComplete,"aria-controls":c?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":c?null:d,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:Zt({notranslate:!c,"public/DraftEditor/content":!0}),contentEditable:!c,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(t){return e.editor=t},role:c?null:h,spellCheck:ra&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},o.createElement(Dr,g))))},t.prototype.componentDidMount=function(){this.setMode("edit"),na&&document.execCommand("AutoUrlDetect",!1,!1)},t.prototype.componentWillUpdate=function(e){this._blockSelectEvents=!0,this._latestEditorState=e.editorState},t.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},t}(o.Component);ia.defaultProps={blockRenderMap:Qt,blockRendererFn:c.thatReturnsNull,blockStyleFn:c.thatReturns(""),keyBindingFn:ea,readOnly:!1,spellCheck:!1,stripPastedStyles:!1};var aa=ia,sa={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}},ua=Co.strlen;var ca=function(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(r,o){var i=e.getText(),a=e.getEntityAt(r);n.push({offset:ua(i.slice(0,r)),length:ua(i.slice(r,o)),key:Number(t[sa.stringify(a)])})}),n},la=function(e,t){return e===t},fa=function(e){return!!e},pa=[];var ha=function(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return function(e,t,n){var r=[],o=t.map(function(e){return e.has(n)}).toList();return T(o,la,fa,function(t,o){var i=e.getText();r.push({offset:Co.strlen(i.slice(0,t)),length:Co.strlen(i.slice(t,o)),style:n})}),r}(e,t,n)});return Array.prototype.concat.apply(pa,n.toJS())},da=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:ha(e),entityRanges:ca(e,t),data:e.getData().toObject()}},ya=function(e,t){var n=t.entityMap,r=[],o={},i={},a=0;return e.getBlockMap().forEach(function(e){e.findEntityRanges(function(e){return null!==e.getEntity()},function(t){var r=e.getEntityAt(t),o=sa.stringify(r);i[o]||(i[o]=r,n[o]=""+a,a++)}),function(e,t,n,r){if(e instanceof R)n.push(ga(e,t));else{e instanceof X||l(!1);var o=e.getParentKey(),i=r[e.getKey()]=da({},ga(e,t),{children:[]});o?r[o].children.push(i):n.push(i)}}(e,n,r,o)}),{blocks:r,entityMap:n}},va=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.blocks,r=t.entityMap,o={};return Object.keys(r).forEach(function(t,n){var r=e.getEntity(sa.unstringify(t));o[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:o}}(e,t=ya(e,t))},ma=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},ba={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||l(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var o=r.children;Array.isArray(o)||l(!1),n=n.concat([].concat(o.reverse()))}}(t,function(e){var t=ma({},e);_a(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map(function(t){return t.type===e.type?ma({},t,{depth:(e.depth||0)+1}):t}))}(e)),delete t.children,n.push(t)}),e.blocks=n,ma({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t={},n=[];return e.blocks.forEach(function(e){var r=_a(e),o=e.depth||0,i=ma({},e,{children:[]});if(!r)return t={},void n.push(i);if(t[o]=i,o>0){var a=t[o-1];return a||l(!1),void a.children.push(i)}n.push(i)}),ma({},e,{blocks:n})}},Sa=y.List;var wa=function(e,t){var n=e.map(function(e,n){var r=t[n];return x.create({style:e,entity:r})});return Sa(n)},Ea=Co.substr;var ka=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var r=Ea(e,0,t.offset).length,o=r+Ea(e,t.offset,t.length).length,i=r;i<o;i++)n[i]=t.key}),n},Ca=y.OrderedSet,Oa=Co.substr,xa=Ca();var Ta=function(e,t){var n=Array(e.length).fill(xa);return t&&t.forEach(function(t){for(var r=Oa(e,0,t.offset).length,o=r+Oa(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n},Da=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma=Y.draft_tree_data_support,Ka=y.List,Aa=y.Map,Ia=y.OrderedMap,Ba=function(e,t){var n=e.key,r=e.type,o=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||ue(),data:Aa(o),characterList:Fa(e,t)}},Fa=function(e,t){var n=e.text,r=e.entityRanges,o=e.inlineStyleRanges,i=r||[];return wa(Ta(n,o||[]),ka(n,i.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return Da({},e,{key:t[e.key]})})))},La=function(e){return Da({},e,{key:e.key||ue()})},Na=function(e,t,n){var r=t.map(function(e){return Da({},e,{parentRef:n})});return e.concat(r.reverse())},Ra=function(e,t){var n=Array.isArray(e.blocks[0].children),r=Ma&&!n?ba.fromRawStateToRawTreeState(e).blocks:e.blocks;return Ma?function(e,t){return e.map(La).reduce(function(n,r,o){Array.isArray(r.children)||l(!1);var i=r.children.map(La),a=new X(Da({},Ba(r,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:Ka(i.map(function(e){return e.key}))}));n=n.set(a.getKey(),a);for(var s=Na([],i,a);s.length>0;){var u=s.pop(),c=u.parentRef,f=c.getChildKeys(),p=f.indexOf(u.key),h=Array.isArray(u.children);if(!h){h||l(!1);break}var d=u.children.map(La),g=new X(Da({},Ba(u,t),{parent:c.getKey(),children:Ka(d.map(function(e){return e.key})),prevSibling:0===p?null:f.get(p-1),nextSibling:p===f.size-1?null:f.get(p+1)}));n=n.set(g.getKey(),g),s=Na(s,d,g)}return n},Ia())}(r,t):function(e,t){return Ia(e.map(function(e){var n=new R(Ba(e,t));return[n.getKey(),n]}))}(n?ba.fromRawTreeStateToRawState(e).blocks:r,t)};var za=function(e){var t=Oo(e),n=0,r=0,o=0,i=0;if(t.length){if(t.length>1&&0===t[0].width){var a=t[1];n=a.top,r=a.right,o=a.bottom,i=a.left}else{var s=t[0];n=s.top,r=s.right,o=s.bottom,i=s.left}for(var u=1;u<t.length;u++){var c=t[u];0!==c.height&&0!==c.width&&(n=Math.min(n,c.top),r=Math.max(r,c.right),o=Math.max(o,c.bottom),i=Math.min(i,c.left))}}return{top:n,right:r,bottom:o,left:i,width:r-i,height:o-n}};var Pa={Editor:aa,EditorBlock:Cr,EditorState:Nt,CompositeDecorator:Xt,Entity:Ze,EntityInstance:We,BlockMapBuilder:m,CharacterMetadata:x,ContentBlock:R,ContentState:at,SelectionState:Qe,AtomicBlockUtils:Gt,KeyBindingUtil:po,Modifier:Ne,RichUtils:Ui,DefaultDraftBlockRenderMap:Qt,DefaultDraftInlineStyle:en,convertFromHTML:Ai,convertFromRaw:function(e){Array.isArray(e.blocks)||l(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach(function(e){var r=t[e],o=r.type,i=r.mutability,a=r.data;n[e]=Ze.__create(o,i,a||{})}),n}(e),n=Ra(e,t),r=n.isEmpty()?new Qe:Qe.createEmpty(n.first().getKey());return new at({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})},convertToRaw:va,genKey:ue,getDefaultKeyBinding:ea,getVisibleSelectionRect:function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=za(n),o=r.top,i=r.right,a=r.bottom,s=r.left;return 0===o&&0===i&&0===a&&0===s?null:r}},Ua=Pa.Editor,ja=Pa.ContentState,qa=Pa.EditorState,Va=Pa.RichUtils,Ha=Pa.convertFromHTML,Wa=Pa.convertToRaw,Ga=Pa.convertFromRaw;function Ja(e){var t=e.children,n=e.className,r=e.focused,i=e.onFocus,a=e.onBlur,s=e.id,u=e.error,c=e.label,l=e.name,f=e.dirty,p=e.tabIndex,h=e.uncollapse,d=e.expand;return o.createElement("span",{className:"field-wrap "+n+" "+(f?"field--dirty":"")+" "+(r?"field--focus":"")+" "+(u?"field--error":"")+" "+(h?"field--uncollapse":"")+" "+(d?"field--expand":""),onFocus:i,onBlur:a,tabIndex:p||1,id:s},t,o.createElement("label",{className:"field-label",htmlFor:l},u||c))}Ja.defaultProps={className:"field"};!function(){function e(e){this.value=e}function t(t){var n,r;function o(n,r){try{var a=t[n](r),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var Xa=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Za=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Qa=[{label:null,style:"header-four",iconClass:"header"},{label:null,style:"unordered-list-item",iconClass:"listing-box"},{label:null,style:"ordered-list-item",iconClass:"listing-number"}],es=[{label:null,style:"BOLD",iconClass:"bold"},{label:null,style:"ITALIC",iconClass:"italic"}],ts=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r._onChange=function(e){var t=e.getCurrentContent().hasText();r.setState(function(){return{dirty:t,editorState:e}}),r.props.onChange({target:{value:e}})},r.state={editorState:qa.createEmpty()},r.toggleInlineStyle=r._toggleInlineStyle.bind(r),r.toggleBlockType=r._toggleBlockType.bind(r),r.onChange=r._onChange.bind(r),r._handleKeyCommand=r._handleKeyCommand.bind(r),r._handleBlurDraft=r._handleBlurDraft.bind(r),r._handleFocusDraft=r._handleFocusDraft.bind(r),r}return $a(t,e),t.prototype.componentWillMount=function(){this.props.value&&this.setState({dirty:!0})},t.prototype.render=function(){var e=this,t=this.props,n=t.label,r=t.expand,i=t.id,a=t.className,s=t.error,u=t.uncollapse,c=t.value,l=t.editorState,f=l||c||e.state.editorState,p=!!this.state.inFocus,h=!!f.getCurrentContent().hasText();return o.createElement(Ja,{className:"draftField "+a,label:n,focused:p,dirty:h,expand:r,id:i,error:s,tabIndex:1,uncollapse:u,onFocus:this._handleFocusDraft.bind(this),onBlur:this._handleBlurDraft.bind(this)},o.createElement("header",{className:"draftField-toolbar"},o.createElement(os,{onToggle:this.toggleInlineStyle,editorState:f}),o.createElement(rs,{onToggle:this.toggleBlockType,editorState:f})),o.createElement("div",{className:"draftField-content"},o.createElement(Ua,{editorState:f,className:"draftField-editor",ref:function(t){return e.draft=t},handleKeyCommand:this._handleKeyCommand,onChange:this.onChange})))},t.prototype._handleBlurDraft=function(){this.setState({inFocus:!1})},t.prototype._handleFocusDraft=function(){this.draft.focus(),this.setState({inFocus:!0})},t.prototype._handleKeyCommand=function(e){var t=Va.handleKeyCommand(this.state.editorState,e);return t?(this.onChange(t),"handled"):"not-handled"},t.prototype._toggleInlineStyle=function(e){this.onChange(Va.toggleInlineStyle(this.state.editorState,e))},t.prototype._toggleBlockType=function(e){this.onChange(Va.toggleBlockType(this.state.editorState,e))},t}(t.Component),ns=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r.toggle=r._toggle.bind(r),r}return $a(t,e),t.prototype.render=function(){var e=this.props,t=e.iconClass,n=void 0===t?"settings":t,r=e.active,i=void 0===r?"":r,a=e.label,s=e.showLabel;return o.createElement("span",{className:"toolbar-button icofont "+(i&&"toolbar-button--active")+" icofont-"+n+" ",onMouseDown:this.toggle},s&&a&&a)},t.prototype._toggle=function(e){e.preventDefault(),this.props.onToggle(this.props.style)},t}(t.Component);function rs(e){var t=e.editorState,n=void 0,r=void 0;return t&&(r=t.getSelection(),n=t.getCurrentContent().getBlockForKey(r.getStartKey()).getType()),o.createElement("div",{className:"draft-tool-group"},Qa.map(function(t,r){return o.createElement(ns,{key:t.style+"-"+r,active:t.style===n,iconClass:t.iconClass,onToggle:e.onToggle,style:t.style})}))}function os(e){var t=void 0;return e.editorState&&(t=e.editorState.getCurrentInlineStyle()),o.createElement("div",{className:"draft-tool-group"},es.map(function(n,r){return o.createElement(ns,{key:n.style+"-"+r,iconClass:n.iconClass,onToggle:e.onToggle,active:t&&t.has(n.style),style:n.style})}))}function is(e){var t=e.disabled,n=e.checkerType,r=e.label,i=e.checked,a=e.onChange,s=t&&"select-option-disabled",u=i&&"select-option-checked";return o.createElement("span",{className:"select-option "+u+" "+s,onClick:t||a},o.createElement(us,{style:n||"sphere",checked:i,disabled:t}),r)}function as(e){var t=e.disabled,n=e.label,r=e.iconClass,i=e.checked,a=e.onChange,s=t?"select-button-disabled":"",u=i?"select-button-checked":"";return o.createElement("span",{className:"select-button "+u+" "+s+" ",onClick:t||a},o.createElement("i",{className:r}),n)}function ss(e){var t=e.disabled,n=e.checkerType,r=e.label,i=e.checked,a=e.onChange,s=t&&"select-list-item-disabled",u=i&&"select-select-list-checked";return o.createElement("div",{className:"select-list-item "+u+" "+s,onClick:t||a},o.createElement("span",{className:"select-list-item-content"},r),o.createElement("span",{className:"select-list-item-checker"},o.createElement(us,{style:n||"tick",checked:i,disabled:t})))}function us(e){var t=e.disabled,n=e.onChange,r=e.checked,i=void 0!==r&&r,a=e.style,s=void 0===a?"sphere":a,u=t?"checker-disabled":"",c=i?"checker-checked":"";return o.createElement("span",{className:"checker "+c+" "+u+" "+function(e,t){return"tick"===e?t?"checker-box icofont icofont-check":"checker-box icofont icofont-close":"sphere"===e?t?" checker-sphere checker-sphere-checked":"checker-sphere checker-sphere-checked":void 0}(s,i),onClick:function(e){n&&n(!e)}.bind(null,i)})}var cs=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r.state={dropdownVisible:!1},r._handleOptionClick=r._handleOptionClick.bind(r),r}return $a(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.selection,r=e.style,i=e.multiple,a=e.options,s=e.onChange,u=e.label;var c,l,f=(l=c=r,"button"===c&&(l="buttonGrid"),"dropdown"!==c&&"list"!==c||(l="checkList"),l),p=a.map(function(e,r){var a=(i?function(t){return!!t[e.value]}:function(t){return t.value===e.value})(n);switch(f){case"checkList":return o.createElement(ss,{key:"check-"+r,checkerType:"tick",disabled:t,checked:a,label:e.label||e.name,onChange:s.bind(null,e)});case"buttonGrid":return o.createElement(as,{key:"check-"+r,iconClass:e.iconClass,disabled:t,checked:a,label:e.label||e.name,onChange:s.bind(null,e)});default:return o.createElement(is,{key:"check-"+r,disabled:t,checked:a,label:e.label||e.name,onChange:s.bind(null,e)})}});return o.createElement("fieldset",{className:"select-group "+("buttonGrid"!==f?"select-list":"select-grid")},o.createElement("legend",{className:"select-label"},u),p)},t.prototype._handleOptionClick=function(e){this.props.onChange(e)},t}(t.Component);cs.defaultProps={disabled:!1,label:"Select Field Set",options:[],selection:{},onChange:function(){}};var ls=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r._handleCheckStateChange=function(e){var t=r.state;t[e.value]?delete t[e.value]:t[e.value]=e,r.setState(function(){return t}),r.props.onChange(t)},r.state={},r._handleCheckStateChange=r._handleCheckStateChange.bind(r),r}return $a(t,e),t.prototype.render=function(){return o.createElement(cs,Ya({},this.props,{multiple:!0,onChange:this._handleCheckStateChange,selection:this.props.selection||this.state}))},t}(t.Component),fs=require("./common"),ps=cs,hs=ls,ds=fs.SelectOption,gs=fs.CheckListItem,ys=fs.Checker,vs=fs.SelectButton;function ms(e){var t=e.name,n=e.disabled,r=e.type,i=e.value,a=e.error,s=e.id,u=e.className,c=e.onChange,l=e.onSubmitEditing,f=e.onKeyDown,p=e.onKeyUp,h=e.onBlur,d=e.onFocus,g=e.onMouseEnter,y=e.onMouseLeave,v=e.label,m=e.required,_=e.uncollapse,b=e.expand;return o.createElement(Ja,{name:t,disabled:n,dirty:!!i,error:a,uncollapse:_,label:v,expand:b,id:s,className:""+u},o.createElement("input",{name:t,disabled:n,type:r,className:"field-input text-field",onChange:c,onBlur:h,onFocus:d,onKeyDown:f,onKeyUp:p,onMouseEnter:g,onMouseLeave:y,onSubmit:l,value:i,required:m}))}function _s(e){var t=e.value?e.value.split("T")[0]:" ";return o.createElement(ms,Ya({},e,{type:"date",value:t,placeholder:"dd/mm/yyyy"}))}ms.defaultProps={className:"",value:"",onChange:function(){},onSubmitEditing:function(){},onKeyDown:function(){},onKeyUp:function(){},onBlur:function(){},onFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};var bs=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r.state={focused:!1,editing:!1},r._handleActivateEditing=r._handleActivateEditing.bind(r),r._handleSubmitEditing=r._handleSubmitEditing.bind(r),r}return $a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.index,r=(t.active,t.defaultfieldValue),i=(t.fieldName,t.fieldType),a=void 0===i?"text":i,s=t.labelText,u=void 0===s?"label":s,c=t.fieldValue,l=void 0===c?"value":c,f=t.error,p=(t.multiline,t.onChangeText),h=void 0===p?function(){console.log("editing")}:p,d=f&&o.createElement("span",{style:[Ss.errorMessage]},f),g=o.createElement("div",{ref:function(t){e["text_"+n]=t},onClick:this._handleActivateEditing.bind(null,n)},o.createElement("span",{style:Ss.editableText},l||r)),y=o.createElement("input",{autoFocus:!0,type:a,ref:function(t){e["input_"+n]=t},onChange:h,onSubmit:this._handleSubmitEditing.bind(null,n),style:Ss.editableInput,value:l,defaultvalue:r});return o.createElement("div",{style:Ss.editableGroup},o.createElement("span",{style:Ss.label},u),this.state.editing||this.state.focus?y:g,o.createElement("div",{style:Ss.errorWrap},d))},t.prototype._handleActivateEditing=function(e){this.setState({editing:!0,focused:!0})},t.prototype._handleSubmitEditing=function(e){this.props.onSubmitEditing(e),this._handleBlur()},t.prototype._handleFocus=function(e){this.setState({focused:!0})},t.prototype._handleBlur=function(e){this.props.onRevertInputFocus(),this.setState({focused:!1,editing:!1})},t}(t.Component),Ss={editableGroup:{margin:0,borderBottomColor:"#fefefe",paddingTop:18,paddingBottom:12,paddingHorizontal:15},editableText:{fontWeight:"700",height:"24px",color:"#fefefe",paddingTop:"0",paddingLeft:"0",paddingBottom:"0",paddingRight:0,fontSize:"18px",marginTop:0,marginBottom:0},editableInput:{fontWeight:"700",height:24,color:"#fefefe",paddingTop:0,paddingLeft:0,paddingBottom:0,paddingRight:0,fontSize:18,marginTop:0,marginBottom:0},label:{color:"#fefefe",fontSize:12,paddingBottom:6},errorWrap:{height:14,marginTop:2},errorMessage:{textAlign:"right",color:"#fefefe",fontSize:14},editableError:{color:"#fefefe",paddingTop:2,paddingBottom:4,paddingLeft:0,fontSize:16,marginTop:0,marginBottom:0}};function ws(e){return o.createElement("div",{className:"fieldGroup "+(e.uncollapse?"fieldGroup--uncollapsed":"")},e.children)}function Es(e){var t=e.name,n=e.disabled,r=e.type,i=e.value,a=e.error,s=e.id,u=e.className,c=e.onChange,l=e.onSubmitEditing,f=e.onKeyDown,p=e.onKeyUp,h=e.onBlur,d=e.onFocus,g=e.onMouseEnter,y=e.onMouseLeave,v=e.label,m=e.required,_=e.uncollapse,b=e.expand,S=e.size;return o.createElement(Ja,{name:t,disabled:n,dirty:!!i,error:a,uncollapse:_,label:v,expand:b,id:s,className:""+u},o.createElement("textarea",{name:t,disabled:n,type:r,className:"field-input multiline",onChange:c,onBlur:h,onFocus:d,onKeyDown:f,onKeyUp:p,onMouseEnter:g,onMouseLeave:y,onSubmit:l,value:i,rows:S,required:m}))}function ks(e){var t=e.name,n=e.disabled,r=e.type,i=e.value,a=e.error,s=e.id,u=e.className,c=e.onChange,l=e.onSubmitEditing,f=e.onKeyDown,p=e.onKeyUp,h=e.onBlur,d=e.onFocus,g=e.onMouseEnter,y=e.onMouseLeave,v=e.options,m=e.label,_=e.required,b=e.uncollapse,S=e.expand,w=v.map(function(e,t){return o.createElement("option",{value:e,key:"option_"+t})});return o.createElement(Ja,{name:t,disabled:n,dirty:!!i,error:a,uncollapse:b,label:m,expand:S,id:s,className:""+u},o.createElement("input",{name:t,disabled:n,type:r,className:"field-input text-field",list:t+"_options",onChange:c,onBlur:h,onFocus:d,onKeyDown:f,onKeyUp:p,onMouseEnter:g,onMouseLeave:y,onSubmit:l,value:i,required:_}),o.createElement("dataList",{id:t+"_options"},w))}Es.defaultProps={className:"",value:"",size:3,required:!1,onChange:function(){},onSubmitEditing:function(){},onKeyDown:function(){},onKeyUp:function(){},onBlur:function(){},onFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},ks.defaultProps={className:"",value:"",onChange:function(){},onSubmitEditing:function(){},onKeyDown:function(){},onKeyUp:function(){},onBlur:function(){},onFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};var Cs=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r.state={dropdownVisible:!1,selectValue:null},r._handleSelectButtonFocus=r._handleSelectButtonFocus.bind(r),r._handleSelectButtonBlur=r._handleSelectButtonBlur.bind(r),r._handleDropdownOptionClick=r._handleDropdownOptionClick.bind(r),r._changeDropdownVisibility=r._changeDropdownVisibility.bind(r),r._selectOption=r._selectOption.bind(r),r}return $a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.label,r=void 0===n?"label":n,i=t.value,a=t.options,s=void 0===a?[{name:"Option One",value:"option1"}]:a,u=s.map(function(t,n){return o.createElement("span",{className:"selectButton-option",key:"selectOption_"+n,onClick:e._handleDropdownOptionClick.bind(null,n)},t.name)}),c=!0===this.state.dropdownVisible?"show-dropdown":"hide-dropdown";return o.createElement("div",{className:"selectButton",ref:function(t){return e.selectRef=t},tabIndex:1},o.createElement("button",{className:"selectButton-button "+c,onClick:this._handleSelectButtonFocus},o.createElement("div",{className:"selectButton-label"},r),function(e,t){if(e)return t[e]&&t[e].name;var n=t.find(function(e){return e[e.id?"id":"value"]===i});return n?n.name||n.label:void 0}(this.state.selectValue,s),o.createElement("i",{className:"icofont icofont-simple-down"})),o.createElement("div",{className:"selectButton-dropdown "+c,ref:function(t){return e.dropdownRef=t},onBlur:this._handleSelectButtonBlur,tabIndex:2},u))},t.prototype._handleSelectButtonFocus=function(e){e.preventDefault(),this._changeDropdownVisibility(!0),this.dropdownRef.focus()},t.prototype._handleSelectButtonBlur=function(){this._changeDropdownVisibility(!1)},t.prototype._handleDropdownOptionClick=function(e){this._selectOption(e),this._changeDropdownVisibility(!1)},t.prototype._changeDropdownVisibility=function(e,t){this.setState(function(t){return{dropdownVisible:e}})},t.prototype._selectOption=function(e,t){this.setState({selectValue:e}),this.props.onOptionClick&&this.props.onOptionClick(this.props.options&&this.props.options[e]||0)},t}(t.Component),Os=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r.state={dropdownVisible:!1,inputValue:"",selectIndex:0},r._handleFieldFocus=r._handleFieldFocus.bind(r),r._handleFieldBlur=r._handleFieldBlur.bind(r),r._handleChangeValue=r._handleChangeValue.bind(r),r._handleDropdownOptionClick=r._handleDropdownOptionClick.bind(r),r._changeDropdownVisibility=r._changeDropdownVisibility.bind(r),r._selectOption=r._selectOption.bind(r),r}return $a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.suggestions,r=void 0===n?[]:n,i=t.value,a=void 0===i?"":i,s=(t.onSelect,t.placeholder),u=(t.onChange,t.getSuggestionString),c=t.className,l=r.length>0&&r.map(function(t,n){return o.createElement("span",{className:"suggestionField-option",key:"selectOption_"+n,onClick:e._handleDropdownOptionClick.bind(null,n,t)},u(t))}),f=!0===this.state.dropdownVisible?"suggestionField-show-dropdown":"suggestionField-hide-dropdown";return o.createElement("div",{ref:function(t){e.selectRef=t},className:c+" suggestionField",tabIndex:1},o.createElement("input",{className:"suggestionField-input",value:a||this.state.inputValue,placeholder:s,onChange:this._handleChangeValue}),o.createElement("div",{ref:function(t){e.dropdownRef=t},onBlur:this._handleFieldBlur,tabIndex:2,className:"suggestionField-dropdown "+f},l))},t.prototype._handleChangeValue=function(e){var t=this,n=e.target.value;this.props.onChange&&this.props.onChange(e,function(e){e.length>0?t._changeDropdownVisibility(!0):t._changeDropdownVisibility(!1)}),this.setState(function(e){return{inputValue:n}})},t.prototype._handleFieldFocus=function(){this._changeDropdownVisibility(!0),this.dropdownRef.focus()},t.prototype._handleFieldBlur=function(){this._changeDropdownVisibility(!1)},t.prototype._handleDropdownOptionClick=function(e,t){this._selectOption(e,t),this._changeDropdownVisibility(!1),this.props.onSelect&&this.props.onSelect(this.props.suggestions&&this.props.suggestions[e]||0)},t.prototype._changeDropdownVisibility=function(e,t){this.setState(function(t){return{dropdownVisible:e}})},t.prototype._selectOption=function(e,t){this.setState({inputValue:this.props.getSuggestionString(this.props.suggestions[e]),selectIndex:e})},t}(t.Component);function xs(e){var t=e.val||" ";return o.createElement(ms,Ya({type:"time",placeholder:"_ _ : _ _  AM",value:t},e))}function Ts(e){var t=e.name,n=void 0===t?"":t,r=e.icon,i=e.showIcon,a=e.disabled,s=void 0!==a&&a,u=e.onChange,c=void 0===u?function(){}:u,l=e.label,f=void 0===l?"":l,p=e.multiple,h=void 0!==p&&p,d=e.required,g=void 0!==d&&d&&!0;return o.createElement("div",{className:"uploadField-wrap"},o.createElement("label",{className:r||i?"upload-icon":"upload-label",htmlFor:n},f?o.createElement("span",{className:"uploadField"},o.createElement("i",{className:"icofont icofont-camera"}),f):o.createElement("i",{className:"icofont icofont-camera"})),o.createElement("input",{name:n,id:n,disabled:s,type:"file",className:"upload-field",multiple:h,required:g,onChange:c}))}Os.defaultProps={suggestions:[],onOptionClick:function(e){console.log("Option: "+e.name+" clicked")},placeholder:"Suggestion",onChangeValue:function(e){console.log(e)},className:""};var Ds="INITIATE_FORM_STATE",Ms="CLEAR_FORM_STATE",Ks="UPDATE_VALUE",As="TOGGLE_MULTI_SELECT",Is="NEXT_FIELD",Bs="REVERT_ACTIVE_FIELD",Fs="FORM_ERROR",Ls="FIELD_ERROR",Ns="SET_DATABASE_VALUES",Rs={hydrate:function(e){return{activeField:null,fields:[],values:e||{},errors:{},errorMessage:null}},clear:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]="");return{values:t}},updateValue:function(e,t){var n,r=t.value,o=t.name;return Ya({},e,((n={})[o]=r,n))},toggleMultiSelect:function(e,t){var n=t.name,r=t.option,o=Ya({},e);return o.hasOwnProperty([n])?o[n][r]?delete o[n][r]:o[n][r]=r:(o[n]={},o[n][r]=r),o},next:function(e,t){var n=t.currentIndex,r=[].concat(e);return r[n].active=!1,r[n+1].active=!0,r}},zs={activeField:null,fields:[],values:{},errors:{},errorMessage:null};var Ps=function(e){function t(n){Xa(this,t);var r=Za(this,e.call(this,n));return r.state={values:{},disabled:{},errors:{},formError:""},r._handleUpdateValue=r._handleUpdateValue.bind(r),r._handleToggleMultiSelect=r._handleToggleMultiSelect.bind(r),r._handleBlur=r._handleBlur.bind(r),r._handleFocus=r._handleFocus.bind(r),r._handleKeyDown=r._handleKeyDown.bind(r),r._handleKeyUp=r._handleKeyUp.bind(r),r}return $a(t,e),t.prototype.render=function(){var e=this.props,t=e.formData,n=e.fieldErrors,r=void 0===n?{}:n,i=e.formError,a=e.values,s=void 0===a?{}:a,u=e.disabledForm,c=void 0!==u&&u,l=e.disabledFields,f=void 0===l?{}:l,p=e.actions,h=void 0===p?{}:p,d=e.activeFieldIndex,g=e.render,y=Ya({},h,{onKeyDown:this._handleKeyDown,onKeyUp:this._handleKeyUp,onChange:this._handleUpdateValue,onBlur:this._handleBlur,onFocus:this._handleFocus,onToggleMultiSelect:this._handleToggleMultiSelect});return"function"==typeof g?g({values:s,actions:y,fieldErrors:r,disabledFields:f,disabledForm:c,formError:i}):o.createElement("div",{className:"fieldWrap"},t.fields.map(function(e,t,n,r,i,a){var s=c||r&&r[i.name]||this.state.disabled[i.name],u=n&&n[i.name]||this.state.errors[i.name]||null,l=t.onChange.bind(null,i.name),f=t.onToggleMultiSelect.bind(null,i.name),p=t.onBlur.bind(null,i.name),h=t.onFocus.bind(null,i.name),g=t.onKeyDown.bind(null,i.name),y=t.onKeyUp.bind(null,i.name),v=i.name,m=i.label,_=i.type,b=e?e[i.name]:this.state.values[i.name],S=i.options,w=i.style,E=i.secure,k={key:"input_"+a,active:d,disabled:s,error:u,index:a,label:m,onChange:l,onBlur:p,onFocus:h,onKeyDown:g,onKeyUp:y,name:v,value:b,secure:E||"password"===_};switch(i.type){case"text":case"password":case"url":case"email":case"number":case"tel":return o.createElement(ms,Ya({type:_},k));case"multilineText":case"multiLineText":case"multiline-text":return o.createElement(Es,k);case"editableText":case"editable-text":return o.createElement(bs,k);case"optionText":case"option-text":return o.createElement(ks,Ya({},k,{options:S}));case"date":return o.createElement(_s,k);case"time":return o.createElement(xs,k);case"multiSelectFieldSet":case"multi-select":return o.createElement(hs,Ya({},k,{style:w,onChange:f,options:S}));case"selectFieldSet":case"select":return o.createElement(ps,Ya({options:S},k));case"upload":return o.createElement(Ts,k);case"draft":return o.createElement(ts,k);default:return o.createElement(ms,Ya({type:_},k))}}.bind(this,s,y,r,f)),o.createElement("div",{className:"form-error-message "+(i?"show-element":"hide-element")},i||this.state.formError))},t.prototype._handleUpdateValue=function(e,t,n){var r=void 0;n?r={target:{value:t}}:(r=t).target.value,this.props.actions.onChange&&this.props.actions.onChange(e,r)},t.prototype._handleToggleMultiSelect=function(e,t,n){this.props.actions.onToggleMultiSelect?this.props.actions.onToggleMultiSelect(e,t):this.setState({values:function(t,n){if(n.hasOwnProperty(e)){var r=Ya({},n);return r[e][t]?delete r[e][t]:r[e][t]=t,r}var o,i;return Ya({},n,((i={})[e]=((o={})[t]=t,o),i))}(t,this.state.values)})},t.prototype._handleKeyDown=function(e,t){this.props.actions.onKeyDown&&this.props.actions.onKeyDown(e,t)},t.prototype._handleKeyUp=function(e,t){this.props.actions.onKeyUp&&this.props.actions.onKeyUp(e,t)},t.prototype._handleFocus=function(e,t){this.props.actions.onFocus&&this.props.actions.onFocus(e,t)},t.prototype._handleBlur=function(e,t){this.props.actions.onBlur&&this.props.actions.onBlur(e,t)},t}(t.Component);Ps.defaultProps={formData:{formTitle:"Login Form",fields:[{name:"email",label:"Email",type:"text",secure:!1,keyboard:"email-address"},{name:"password",label:"Password",type:"password",secure:!0,keyboard:"default"}]}};var Us=ps,js=hs,qs={SelectOption:ds,SelectListItem:gs,SelectBox:vs,Checker:ys},Vs={serializeDraftState:function(e){if(!e)return JSON.stringify(Wa(qa.createEmpty().getCurrentContent()));var t=e.getCurrentContent();return JSON.stringify(Wa(t))},parseDraftState:function(e){if(!e||""===e)return qa.createEmpty();try{var t=JSON.parse(e);return qa.createWithContent(Ga(t))}catch(t){var n=Ha(e);return qa.createWithContent(ja.createFromBlockArray(n.contentBlocks,n.entityMap))}}};e.DateField=_s,e.DraftField=ts,e.EditableTextField=bs,e.FieldGroup=ws,e.FieldRow=ws,e.MultiLineField=Es,e.OptionTextField=ks,e.RangeSelect=function(e){e.name;var t=e.onChange,n=e.onCheck,r=(e.label,e.minValue),i=void 0===r?{}:r,a=e.maxValue,s=void 0===a?{}:a,u=(e.list,e.min),c=e.max,l=e.minLabel,f=e.maxLabel,p=e.minError,h=e.maxError,d=function(e){return e>c?"Above "+c:e<u?"Below "+u:void 0};return o.createElement(ws,null,o.createElement(ms,{type:"number",onKeyUp:n.bind(null,"min"),onChange:t.bind(null,"min"),value:i.value,error:p&&d(i.value),label:"Min: "+(l||u),name:"min"}),o.createElement(ms,{type:"number",onKeyUp:n.bind(null,"max"),onChange:t.bind(null,"max"),value:s.value,error:h&&d(s.value),label:"Max: "+(f||c),name:"max"}))},e.SelectButton=Cs,e.SuggestionField=Os,e.TextField=ms,e.TimeField=xs,e.UploadField=Ts,e.formReducer=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs,n=arguments[1],r=void 0;switch(n.type){case Ds:if(n.payload.savedValues)return Rs.hydrate(n.payload.savedValues);break;case Ms:return Rs.clear(t.values);case Ns:return Ya({},t,{values:n.values.val()});case Ks:return r=Rs.updateValue(t.values,n.payload),Ya({},t,{values:r});case As:return r=Rs.toggleMultiSelect(t.values,n.payload),Ya({},t,{values:r});case Is:return Ya({},t,{activeField:n.currentIndex+1});case Bs:return Ya({},t,{activeField:null});case Fs:return Ya({},t,{errorMessage:n.payload.errorMessage});case Ls:if(!n.payload.errorText||""===n.payload.errorText){var o=Ya({},t.errors);return delete o[n.payload.fieldName],Ya({},t,{errors:o})}return Ya({},t,{errors:Ya({},t.errors,(e={},e[n.payload.fieldName]=n.payload.errorText,e))});case"NEXT_SECTION":return t;case"FORM_SUBMIT":return Rs.submit(t,n.payload)}return t},e.reduxConnect=function(e,n){return function(i){var a=function(e){function t(n){return Xa(this,t),Za(this,e.call(this,n))}return $a(t,e),t.prototype.componentWillMount=function(){this.props.initiateFormState(this.props.formData,this.props.formName,this.props.savedValues)},t.prototype.componentWillUnmount=function(){this.props.clearFormState()},t.prototype.render=function(){var e=this.props,t=e.updateValue,n=e.toggleMultiSelect;return o.createElement(i,Ya({generateFormActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onChange:e.onChange||function(e,n){t(e,n.target.value)},onToggleMultiSelect:e.onToggleMultiSelect||function(e,t){n(e,t)},onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onInterval:e.onInterval,onNextInput:e.onNextInput,onRevertInputFocus:e.onRevertInputFocus}}},this.props))},t}(t.Component);return r.connect(function(t,n){var r=e(t,n);return Ya({},r,{formValues:t.form.values,fieldErrors:t.form.errors,errorMessage:t.form.errorMessage,savedValues:n.savedValues})},function(e){var t=n(e);return Ya({},t,{initiateFormState:function(t){return e(function(e){return{type:Ds,payload:{savedValues:e}}}(t))},clearFormState:function(){return e({type:Ms})},updateValue:function(t,n){return e(function(e,t){return{type:Ks,payload:{name:e,value:t}}}(t,n))},fieldError:function(t,n){return e({type:Ls,payload:{fieldName:t,errorText:n}})},formError:function(t){return e(function(e){return{type:Fs,payload:{errorMessage:e}}}(t))},toggleMultiSelect:function(t,n){return e(function(e,t){return{type:As,payload:{name:e,option:t}}}(t,n))}})})(a)}},e.FieldStack=Ps,e.SelectFieldSet=Us,e.MultiSelectFieldSet=js,e.elements=qs,e.helpers=Vs,Object.defineProperty(e,"__esModule",{value:!0})});
